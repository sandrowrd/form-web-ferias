(this["webpackJsonpform-web-ferias"]=this["webpackJsonpform-web-ferias"]||[]).push([[0],{182:function(a,e,t){},258:function(a,e,t){"use strict";t.r(e);var n=t(0),i=t.n(n),r=t(43),o=t.n(r),c=(t(182),t(6)),s=t(263),l=t(259),d=t(260),u=t(169),j=(t(93),t(7));function b(){var a=Object(n.useState)([{name:"fullname",value:""},{name:"registry",value:""},{name:"subsidiary",value:""},{name:"office",value:""},{name:"boss",value:""}]),e=Object(c.a)(a,2),t=e[0];e[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("legend",{children:"Identifica\xe7\xe3o do Solicitante"}),Object(j.jsxs)(s.a,{labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:t,onFieldsChange:function(a,e){},children:[Object(j.jsxs)(l.a,{gutter:50,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:"fullname",label:"Nome Solicitante",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:"registry",label:"Matr\xedcula",children:Object(j.jsx)(u.a,{readOnly:!0})})})]}),Object(j.jsxs)(l.a,{gutter:50,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:"office",label:"Cargo Solicitante",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:"subsidiary",label:"Filial",children:Object(j.jsx)(u.a,{readOnly:!0})})})]}),Object(j.jsxs)(l.a,{gutter:50,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:"boss",label:"Superior Imediato",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{})})]})]})]})})}var m=t(105),f=t(85);function O(){var a=Object(n.useState)([{name:["registryEmployee"],value:""},{name:["positionemployee"],value:""},{name:["subsidiaryEmployee"],value:""},{name:["bossEmployee"],value:""},{name:["custCenter"],value:""}]),e=Object(c.a)(a,2),t=e[0],i=e[1],r=m.a.Option;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("legend",{children:"Informa\xe7\xf5es do Colaborador"}),Object(j.jsxs)(s.a,{labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:t,onFieldsChange:function(a,e){i(e)},children:[Object(j.jsxs)(l.a,{gutter:20,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["nameEmployee"],label:"Colaborador",rules:[{required:!0},{message:"Obrigat\xf3rio selecionar o colaborador."}],children:Object(j.jsx)(f.a,{title:"Selecione o nome do colaborador",children:Object(j.jsxs)(m.a,{allowClear:!0,showSearch:!0,placeholder:"Selecione Colaborador",optionFilterProp:"children",filterOption:function(a,e){return(null===e||void 0===e?void 0:e.children.toLowerCase().indexOf(a.toLocaleLowerCase()))>=0},children:[Object(j.jsx)(r,{value:"Adriana Concei\xe7\xe3o",children:"Adriana Concei\xe7\xe3o"}),Object(j.jsx)(r,{value:"Roberto Mattos",children:"Roberto Mattos"}),Object(j.jsx)(r,{value:"Maria Eduarda Freitas",children:"Maria Eduarda Freitas"}),Object(j.jsx)(r,{value:"Tadeu Carvalho",children:"Tadeu Carvalho"})]})})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["registryEmployee"],label:"Matr\xedcula",children:Object(j.jsx)(u.a,{readOnly:!0})})})]}),Object(j.jsxs)(l.a,{gutter:20,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["positionemployee"],label:"Cargo Colaborador",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["subsidiaryEmployee"],label:"Filial",children:Object(j.jsx)(u.a,{readOnly:!0})})})]}),Object(j.jsxs)(l.a,{gutter:20,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["bossEmployee"],label:"Superior Imediato",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["custCenter"],label:"Centro de Custo",children:Object(j.jsx)(u.a,{readOnly:!0})})})]}),Object(j.jsxs)(l.a,{gutter:20,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["localWork"],label:"Posto de Trabalho",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["salary"],label:"Sal\xe1rio Atual",children:Object(j.jsx)(u.a,{readOnly:!0})})})]}),Object(j.jsxs)(l.a,{gutter:20,children:[Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{name:["workHours"],label:"Jornada de Trabalho",children:Object(j.jsx)(u.a,{readOnly:!0})})}),Object(j.jsx)(d.a,{span:12,children:Object(j.jsx)(s.a.Item,{})})]})]})]})})}var y=t(1),v=t(134),h=t(265),V=t(261),p=t(266);function g(){var a=Object(n.useState)([{name:"who",value:""},{name:"tableInfo",value:{}}]),e=Object(c.a)(a,2),t=(e[0],e[1]),i=Object(n.useState)({hasData:!0,rowSelection:void 0}),r=Object(c.a)(i,2),o=r[0],u=(r[1],[{title:"Situa\xe7\xe3o",dataIndex:"status",key:"key"},{title:"Data Inicio",dataIndex:"dateIn",key:"key"},{title:"Data Fim",dataIndex:"dateEnd",key:"key"},{title:"Dias",dataIndex:"day",key:"key"},{title:"13 Sal\xe1rio",dataIndex:"salary13",key:"key"},{title:"abono",dataIndex:"allowence",key:"key"},{title:"Adiantamento",dataIndex:"advance",key:"key"},{title:"Parcelas",dataIndex:"part",key:"key"},{title:"A\xe7\xe3o",key:"action",render:function(a){return"Definido"===a.status||"Aberto"===a.status?Object(j.jsx)("a",{children:Object(j.jsx)(p.a,{})}):Object(j.jsx)("a",{})}}]),b=s.a.useForm(),m=Object(c.a)(b,1)[0];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("legend",{children:"Informa\xe7\xf5es de F\xe9rias"}),Object(j.jsxs)(s.a,{name:"formInfoVacation",labelCol:{span:12},wrapperCol:{span:13},labelAlign:"left",form:m,onFieldsChange:function(a,e){t(e),console.log(e)},children:[Object(j.jsx)(l.a,{gutter:20,children:Object(j.jsx)(d.a,{span:24,children:Object(j.jsx)(s.a.Item,{name:"who",label:"Solicita\xe7\xe3o de F\xe9rias",labelAlign:"left",children:Object(j.jsxs)(v.a.Group,{defaultValue:"ownVacation",buttonStyle:"solid",children:[Object(j.jsx)(v.a.Button,{value:"ownVacation",children:"Pr\xf3pria"}),Object(j.jsx)(v.a.Button,{value:"employeeVacation",style:{marginLeft:"200px"},children:"Colaborador"})]})})})}),Object(j.jsx)(s.a.Item,{name:"tableInfo"}),Object(j.jsx)(h.b,{children:Object(j.jsx)(V.a,Object(y.a)(Object(y.a)({},o),{},{pagination:!1,dataSource:[{key:1,status:"Definido",dateIn:"",dateEnd:"",day:"30",salary13:"Sim",allowence:"Sim",advance:"Sim",part:"3",children:[{key:11,part:"1",dateIn:"12/05/2022",dateEnd:"27/05/2022",day:"15"},{key:12,part:"2",dateIn:"11/07/2022",dateEnd:"21/07/2022",day:"10"},{key:13,part:"3",dateIn:"06/09/2022",dateEnd:"11/09/2022",day:"5"}]},{key:1,status:"Aberto",dateIn:"",dateEnd:"",day:"30",salary13:"",allowence:"",advance:"",part:""}],columns:u,onRow:function(a,e){return{onClick:function(t){return function(a,e){console.log(e),console.log(a),console.log(a.part),m.setFieldsValue({tableInfo:a}),m.submit()}(a,e)}}}}))})]})]})})}var x=t(171),D=t(91),w=t(262),I=t(264),F=t(267);function E(a){var e=Object(n.useState)([{name:"unexcused",value:""},{name:"vacationDays",value:30},{name:"dateBeginVacation01",value:""},{name:"daysVacation01",value:30},{name:"dateEndVacation01",value:""},{name:"dateBeginVacation02",value:""},{name:"daysVacation02",value:""},{name:"dateEndVacation02",value:""},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:""},{name:"dateEndVacation03",value:""}]),t=Object(c.a)(e,2),i=t[0],r=t[1],o=Object(n.useState)({enaRow01:!0,enaRow02:!0}),b=Object(c.a)(o,2),m=b[0],O=b[1],y=s.a.useForm(),v=Object(c.a)(y,1)[0],h=i[1].value,V="Informar a data de in\xedcio das f\xe9rias. Somente ser\xe1 permitido data de inicio ap\xf3s 60 dias da data de requisi\xe7\xe3o. ",p="Se parcelado, o n\xfamero de dias n\xe3o poder\xe1 ser menor que 5 e uma das parcelas deve ser de 14 dias",g=function(a){x.a.open({message:"Aten\xe7\xe3o Erro no preenchimento",description:a,icon:Object(j.jsx)(F.a,{style:{color:"#FF0000"}}),style:{background:"#bfcff7"},duration:0})},E=function(a,e){var t=new Date(a);return t.setDate(t.getDate()+e),t.toLocaleDateString("en-GB")};function k(a,e){if(""===a)return!1;var t=a._d.getDay();if(0===t){g("Dia de inicio da f\xe9rias cai no domingo. Data n\xe3o permitida. Favor corrigir")}else if(6===t){g("Dia de inicio da f\xe9rias cai no s\xe1bado. Data n\xe3o permitida. Favor corrigir")}if(a){var n=new Date(a._d),r=new Date,o=Math.abs(n.getTime()-r.getTime());if(Math.ceil(o/864e5)<60){return g("N\xe3o \xe9 permitido escolher data abaixo de 60 dias ap\xf3s a data de requisi\xe7\xe3o. Por favor verifique o preenchimento"),!1}if("dateBeginVacation02"===e){var c=Date.parse(i[2].value._d),s=new Date(c);if(s.setDate(s.getDate()+parseInt(i[3].value)),n<s&&n.getDate()<s.getDate()){return g("Data n\xe3o pode ser inferior ou igual a data da primeira parcela. Favor selecionar uma data deferente da primeira parcela "),!1}return!0}if("dateBeginVacation03"===e){var l=Date.parse(i[5].value._d),d=new Date(l);if(d.setDate(d.getDate()+parseInt(i[6].value)),n<d&&n.getDate()<d.getDate()){return g("Data n\xe3o pode ser inferior ou igual a data da primeira parcela. Favor selecionar uma data com diferen\xe7a de no m\xednimo 30 dias "),!1}return!0}return!0}}var C=function(e,t){var n=0;if(a.set({show01:!0,show02:!0}),"daysVacation01"===t){if(n=h-e,(e>=14||n>=14)&&e<=h-5&&e>=5)return O({enaRow01:!1,enaRow02:!0}),n;(i[4].value<5||void 0===i[4].value||n<5)&&O({enaRow01:!0,enaRow02:!0})}else"daysVacation02"===t?(n=h-i[3].value-e)<5?O({enaRow01:!1,enaRow02:!0}):(e>=14||14===n||e>=5&&e<=h-i[3].value-5)&&O({enaRow01:!1,enaRow02:!1}):O({enaRow01:!0,enaRow02:!0});return n};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("legend",{children:"Sele\xe7\xe3o de F\xe9rias"}),Object(j.jsxs)(s.a,{name:"formVacation",labelCol:{span:9},wrapperCol:{span:12},labelAlign:"left",fields:i,form:v,onFieldsChange:function(a,e){r(e)},children:[Object(j.jsxs)("div",{children:[Object(j.jsxs)(l.a,{gutter:15,children:[Object(j.jsx)(d.a,{span:10,children:Object(j.jsx)(s.a.Item,{name:"unexcused",label:"Faltas n\xe3o justificadas",labelAlign:"left",labelCol:{span:14},wrapperCol:{span:7},rules:[function(a){a.getFieldsValue,a.setFieldsValue;return{validator:function(a,e){e<=5?v.setFieldsValue({vacationDays:30,daysVacation01:30}):e>5&&e<=14?v.setFieldsValue({vacationDays:24,daysVacation01:24}):e>14&&e<=23?v.setFieldsValue({vacationDays:18,daysVacation01:18}):e>23&&e<=32?v.setFieldsValue({vacationDays:12,daysVacation01:12}):v.setFieldsValue({vacationDays:0,daysVacation01:0})}}}],children:Object(j.jsx)(u.a,{})})}),Object(j.jsx)(d.a,{span:14,children:Object(j.jsx)(s.a.Item,{name:"vacationDays",label:"Dias Aquisitivos de F\xe9rias",labelAlign:"right",labelCol:{span:16},wrapperCol:{span:5},children:Object(j.jsx)(u.a,{})})})]}),Object(j.jsxs)(l.a,{gutter:{xs:8,sm:16,md:24,lg:32},justify:"space-around",style:{marginBottom:"50px"},children:[Object(j.jsx)(D.a,{value:"checkAllowance",children:"Abono"}),Object(j.jsx)(D.a,{value:"checkSalary13",children:"13 Sal\xe1rio"}),Object(j.jsx)(D.a,{value:"checkAdvance",children:"Adiantamento"})]}),Object(j.jsxs)(l.a,{gutter:12,justify:"space-around",children:[Object(j.jsx)(f.a,{placement:"top",title:V,children:Object(j.jsx)(s.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation01",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){var i="";if(k(n,"dateBeginVacation01")){var r=e("daysVacation01");return r&&(i=E(Date.parse(n._d),r)),t({dateEndVacation01:i}),Promise.resolve(t({dateEndVacation01:i}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(j.jsx)(w.a,{allowClear:!0,format:"DD/MM/YYYY"})})}),Object(j.jsx)(f.a,{placement:"top",title:p,children:Object(j.jsx)(s.a.Item,{label:"Qto Dias",name:"daysVacation01",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue,n=a.setFields;return{validator:function(a,i){var r=e("dateBeginVacation01"),o=k(r,"dateBeginVacation01"),c=e("vacationDays");if(0===r.length)return n([{name:"daysVacation01",value:c}]),Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(c<19){return g("Numero de dias de f\xe9rias insuficientes para parcelar f\xe9rias. Valor ser\xe1 em cota \xfanica "),t({daysVacation01:c}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!o)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(i<c&&i>c-2){var s=E(Date.parse(r._d),c-5),l=C(c-5,"daysVacation01");t({daysVacation01:c-5,dateEndVacation01:s,daysVacation02:l,dateEndVacation02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}else{if(e("daysVacation02")<6&&e("daysVacation01")>=e("vacationDays")-10&&5===e("daysVacation03"))return console.log("Erro: Se P2 e P3 igual 5 n\xe3o permite que P1 aceite incrementar at\xe9 30 "),Promise.reject(new Error("M\xe1ximo valor permitido"));if(e("daysVacation02")<=5&&e("daysVacation01")>c-6){var d=E(Date.parse(r._d),c);t({daysVacation01:c,dateEndVacation01:d,daysVacation02:"",dateEndVacation02:"",dateBeginVacation02:""}),C(i,"daysVacation01")}else{var u=E(Date.parse(r._d),i);if(""===e("dateBeginVacation02")&&""===e("daysVacation02")){var j=C(i,"daysVacation01");t({dateEndVacation01:u,daysVacation02:j,dateEndVacation02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}else if(""!==e("daysVacation02")){var b=e("dateBeginVacation02"),m=c-e("daysVacation01")-e("daysVacation03");if(""!==b){var f=E(Date.parse(b._d),i);if(""!==e("daysVacation03")){var O=e("daysVacation03"),y=""!==e("dateBeginVacation03")?e("dateBeginVacation03"):"";if(""!==y){var v=E(Date.parse(y._d),O);t({dateEndVacation01:u,daysVacation02:m,dateEndVacation02:f,dateBeginVacation02:b,daysVacation03:O,dateEndVacation03:v,dateBeginVacation03:y})}else t({dateEndVacation01:u,daysVacation02:m,dateEndVacation02:f,dateBeginVacation02:b,daysVacation03:O,dateEndVacation03:"",dateBeginVacation03:""}),C(m,"daysVacation02")}else""===e("daysVacation03")&&t({dateEndVacation01:u,daysVacation02:m,dateEndVacation02:f,dateBeginVacation02:b,daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}else{var h=C(i,"daysVacation01");t({dateEndVacation01:u,daysVacation02:h,dateEndVacation02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}return Promise.resolve()}}}}}}],children:Object(j.jsx)(I.a,{min:5,max:v.getFieldValue("daysVacation02")<6&&5===v.getFieldValue("daysVacation03")?v.getFieldValue("vacationDays")-v.getFieldValue("daysVacation02")-v.getFieldValue("daysVacation03"):v.getFieldValue("vacationDays")})})}),Object(j.jsx)(s.a.Item,{label:"Data Fim",name:"dateEndVacation01",children:Object(j.jsx)(u.a,{readOnly:!0})})]})]}),Object(j.jsx)("div",{hidden:!(!m.enaRow01||!a.ena.show01),children:Object(j.jsxs)(l.a,{gutter:12,justify:"space-around",children:[Object(j.jsx)(f.a,{placement:"top",title:V,children:Object(j.jsx)(s.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation02",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){var i=k(n,"dateBeginVacation02"),r="";if(e("daysVacation01")<14&&e("daysVacation02")<14&&e("daysVacation03")<14){return g("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var o=e("daysVacation02");return o&&(r=E(Date.parse(n._d),o)),t({dateEndVacation02:r}),Promise.resolve(t({dateEndVacation02:r}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(j.jsx)(w.a,{allowClear:!0,format:"DD/MM/YYYY"})})}),Object(j.jsx)(f.a,{placement:"top",title:p,children:Object(j.jsx)(s.a.Item,{label:"Qto Dias",name:"daysVacation02",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue,n=a.setFields;return{validator:function(a,r){var o=e("dateBeginVacation02"),c=k(o,"dateBeginVacation02"),s=e("vacationDays");if(s<25){return g("Numero de dias de f\xe9rias insuficientes para parcelar as f\xe9rias em 3 vezes. "),t({daysVacation02:s-e("daysVacation01")}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!o._d)return Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(!c)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(r<=s-e("daysVacation01")&&r>=s-e("daysVacation01")-2){var l=E(Date.parse(o._d),r-4);n([{name:"daysVacation02",value:r-4},{name:"dateEndVacation02",value:l},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:5},{name:"dateEndVacation03",value:""}]),C(r-4,"daysVacation02")}else{if(!(e("daysVacation03")<6&&e("daysVacation02")>s-e("daysVacation01")-5)){if(e("daysVacation02")<6&&e("daysVacation03")<6)return Promise.reject();var d=C(r,"daysVacation02"),u=E(Date.parse(o._d),r);if(""===i[8].value)t({dateEndVacation02:u,daysVacation03:d,dateEndVacation03:"",dateBeguinVacation03:""});else{var j=E(Date.parse(i[8].value._d),d);t({dateEndVacation02:u,daysVacation03:d,dateEndVacation03:j})}return Promise.resolve()}var b=e("vacationDays")-e("daysVacation01"),m=E(Date.parse(o._d),b);t({daysVacation02:b,dateEndVacation02:m,daysVacation03:"",dateEndVacation03:"",dateBeguinVacation03:""}),C(b,"daysVacation02")}}}}],children:Object(j.jsx)(I.a,{min:5,max:v.getFieldValue("vacationDays")-v.getFieldValue("daysVacation01")})})}),Object(j.jsx)(s.a.Item,{label:"Data Fim",name:"dateEndVacation02",children:Object(j.jsx)(u.a,{readOnly:!0})})]})}),Object(j.jsx)("div",{hidden:!(!m.enaRow02||!a.ena.show02),children:Object(j.jsxs)(l.a,{gutter:12,justify:"space-around",children:[Object(j.jsx)(f.a,{placement:"top",title:V,children:Object(j.jsx)(s.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation03",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){var i=k(n,"dateBeginVacation03"),r="";if(e("daysVacation01")<14&&e("daysVacation02")<14&&e("daysVacation03")<14){return g("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var o=e("daysVacation03");return o&&(r=E(Date.parse(n._d),o)),t({dateEndVacation03:r}),Promise.resolve(t({dateEndVacation03:r}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(j.jsx)(w.a,{allowClear:!0,format:"DD/MM/YYYY"})})}),Object(j.jsx)(s.a.Item,{label:"Qto Dias",name:"daysVacation03",children:Object(j.jsx)(I.a,{readOnly:!0})}),Object(j.jsx)(s.a.Item,{label:"Data Fim",name:"dateEndVacation03",children:Object(j.jsx)(u.a,{readOnly:!0})})]})})]})]})})}var k=t(9),C=t(59);var P=function(){var a=Object(n.useState)([{name:"approver",value:""}]),e=Object(c.a)(a,2),t=e[0],i=(e[1],Object(n.useState)([{key:"",usu:"",dateTime:"",role:"",description:""}])),r=Object(c.a)(i,2),o=r[0],b=r[1],m=Object(n.useState)(0),O=Object(c.a)(m,2),y=O[0],v=O[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("fieldset",{children:[Object(j.jsx)("legend",{children:"Observa\xe7\xf5es"}),Object(j.jsxs)(s.a,{fields:t,onFieldsChange:function(a,e){},onFinish:function(a){var e=new Date,t={key:y.toString(),usu:a.approver,dateTime:e.toLocaleString("en-GB",{timeZone:"UTC"}),role:"",description:a.descriptionApp};v((function(a){return a+1})),b((function(a){return[t].concat(Object(k.a)(a))}))},children:[Object(j.jsxs)(l.a,{gutter:20,children:[Object(j.jsx)(d.a,{span:20,children:Object(j.jsx)(s.a.Item,{name:"approver",label:"Aprovador",labelAlign:"left",labelCol:{span:4},wrapperCol:{span:10},children:Object(j.jsx)(u.a,{style:{marginLeft:"25px"}})})}),Object(j.jsx)(d.a,{span:4,children:Object(j.jsx)(s.a.Item,{labelAlign:"right",children:Object(j.jsx)(C.a,{block:!0,type:"primary",htmlType:"submit",children:"Gravar"})})})]}),Object(j.jsx)(f.a,{title:"Campo opcional para acrescentar observa\xe7\xf5es. Ap\xf3s digitar pressionar tecla 'Gravar'.",children:Object(j.jsx)(s.a.Item,{name:"descriptionApp",label:"Observa\xe7\xf5es",labelAlign:"left",labelCol:{span:4},children:Object(j.jsx)(u.a.TextArea,{showCount:!0,maxLength:150})})}),Object(j.jsx)(s.a.Item,{label:"Hist\xf3rico",labelAlign:"left",children:Object(j.jsx)(V.a,{dataSource:o,columns:[{title:"Nome",dataIndex:"usu",key:"key",width:"20%"},{title:"Cargo",dataIndex:"office",key:"key",width:"20%"},{title:"Data/Hora",dataIndex:"dateTime",key:"key",width:"20%"},{title:"Papel",dataIndex:"paper",key:"key",width:"20%"},{title:"Observa\xe7\xf5es",dataIndex:"description",key:"key",width:"20%"}]})})]})]})})},B=t(47),S=t.n(B);function A(){var a=Object(n.useState)({show01:!0,show02:!0}),e=Object(c.a)(a,2),t=e[0],i=e[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)(b,{}),Object(j.jsx)(O,{}),Object(j.jsxs)(s.a.Provider,{onFormFinish:function(a,e){var t=e.values,n=e.forms;console.log(a),console.log(t),console.log(n);var r=n.formVacation;if(t.tableInfo)for(var o=0;o<t.tableInfo.part;o++)r.setFields([{name:"dateBeginVacation0"+(o+1),value:S()(t.tableInfo.children[o].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(o+1),value:t.tableInfo.children[o].day},{name:"dateEndVacation0"+(o+1),value:t.tableInfo.children[o].dateEnd}]);r.setFields([{name:"dateBeginVacation01",value:S()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:S()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:S()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(j.jsx)(g,{}),Object(j.jsx)(E,{ena:t,set:i})]}),Object(j.jsx)(P,{})]})})}var Y=t(167),M=t(16),q=t(19),_=t(168),R=function a(){Object(M.a)(this,a),this.id="",this.username="",this.subject="",this.email="",this.fullname="",this.locale="",this.tenantName="",this.tenantLocale="",this.token=""},T=function(){function a(){var e=this;Object(M.a)(this,a),this.workflow=void 0,this.errorFunction=void 0,this.submitFunction=void 0,this.workflow=Object(_.workflowCockpit)({init:function(a,t){e.workflow=t},onSubmit:function(a,t){return e.workflow=t,e.submitFunction?e.submitFunction(a,t):{}},onError:function(a,t){e.workflow=t,e.errorFunction&&e.errorFunction(a,t)}})}return Object(q.a)(a,[{key:"onError",value:function(a){this.errorFunction=a}},{key:"onSubmit",value:function(a){this.submitFunction=a}},{key:"abortSubmit",value:function(){throw new Error("A\xe7\xe3o cancelada.")}},{key:"requestPlatformDataAndVariables",value:function(){return Promise.all([this.requestPlatformData(),this.requestProcessVariables()]).then((function(a){return a.reduce((function(a,e){return Object.assign(a,e)}),{})}))}},{key:"requestPlatformData",value:function(){return this.workflow.getPlatformData().then((function(e){return e||a.EMPTY_PLATFORM_DATA}))}},{key:"requestUserData",value:function(){return this.workflow.getUserData().then((function(a){if(a){var e=Object.assign(new R,a);return e.username.indexOf("@")>=0&&(e.username=e.username.split("@")[0]),e}return new R}))}},{key:"requestProcessVariables",value:function(){var a=this;return this.workflow.getInfoFromProcessVariables().then((function(e){return e?a.parsePendencyData(e):{}}))}},{key:"getToken",value:function(){var a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=sessionStorage.getItem("senior-token");return a?"Bearer ".concat(e):e}},{key:"getUser",value:function(){return JSON.parse(sessionStorage.getItem("userData"))}},{key:"parsePendencyData",value:function(a){var e,t={},n=Object(Y.a)(a);try{for(n.s();!(e=n.n()).done;){var i=e.value;"Integer"===i.type||"Double"===i.type||"Float"===i.type?t[i.key]=parseFloat(i.value):t[i.key]=i.value}}catch(r){n.e(r)}finally{n.f()}return t}}]),a}();T.EMPTY_PLATFORM_DATA={odataUrl:"",serviceUrl:"",token:void 0};var L="",U=new T,N=U.requestUserData(),G=U.requestPlatformData().then((function(a){return a.serviceUrl})),J=U.requestProcessVariables(),H=U.requestPlatformData().then((function(a){return a.token}));N.then((function(a){L=a.fullname}));console.log("Dados Usu\xe1rio 03: "),console.log(N),console.log(G),console.log(J),console.log(H),console.log(L);var Q=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(A,{})})};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(Q,{})}),document.getElementById("root"))},93:function(a,e,t){}},[[258,1,2]]]);
//# sourceMappingURL=main.fedc48f3.chunk.js.map