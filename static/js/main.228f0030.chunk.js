(this.webpackJsonpwrecisao=this.webpackJsonpwrecisao||[]).push([[0],{180:function(e,a,t){},256:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(43),r=t.n(o),c=(t(180),t(6)),s=t(9),l=t(1),d=t(261),u=t(257),j=t(258),b=t(167),m=(t(93),t(18)),v=t(19),h=function(){function e(){Object(m.a)(this,e),this.typeReq=2,this.url="localhost:8080",this.server="http://localhost:8080/",this.module="rubi",this.service="",this.port="",this.dataSource="",this.debug=!1,this.consult=""}return Object(v.a)(e,[{key:"setTypeReq",value:function(e){this.typeReq=e}},{key:"setUrl",value:function(e){this.url=e}},{key:"setServer",value:function(e){this.server=e}},{key:"setModule",value:function(e){this.module=e}},{key:"setService",value:function(e){this.service=e}},{key:"setPort",value:function(e){this.port=e}},{key:"setDataSource",value:function(e){this.dataSource=e}},{key:"setDebug",value:function(e){this.debug=e}},{key:"setConsult",value:function(e){this.consult=e}},{key:"createUrlRest",value:function(){return 1===this.typeReq?"http://"+this.url+"/SXI/GenericConsult?consult="+this.consult:2===this.typeReq&&this.dataSource&&!0===this.debug?"http://"+this.url+"/SXI/G5Rest?server="+this.server+"&module="+this.module+"&service="+this.service+"&port="+this.port+"&DATASOURCEATTRNAME="+this.dataSource+"&DEBUG=true":2===this.typeReq&&this.dataSource?"http://"+this.url+"/SXI/G5Rest?server="+this.server+"&module="+this.module+"&service="+this.service+"&port="+this.port+"&DATASOURCEATTRNAME="+this.dataSource:"http://"+this.url+"/SXI/G5Rest?server="+this.server+"&module="+this.module+"&service="+this.service+"&port="+this.port}}]),e}();function p(e,a,t,n){var i=new h;i.setService(a),i.setPort(t),i.setTypeReq(2);var o=new Headers;return o.append("Accept","application/json;charset=utf-8"),o.append("Authorization","Basic "+window.btoa("senior:senior")),o.append("user","senior"),fetch(i.createUrlRest(),{mode:"cors",method:"post",headers:o,body:JSON.stringify(n)}).then((function(e){return new Promise((function(a,t){var n=e.json().then((function(e){return e}));200===e.status?a(n):t("erro")}))}))}var g=t(7);function y(){var e=Object(n.useState)([{name:"fullname",value:""},{name:"registry",value:""},{name:"subsidiary",value:""},{name:"office",value:""},{name:"boss",value:""}]),a=Object(c.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)([{nomfun:"",numcad:"",numemp:"",tipcol:"",titred:"",codcar:""}]),r=Object(c.a)(o,2),m=r[0],v=r[1],h=p(0,"br.com.cvc.wf.rescisao","GetDadosColaborador",{nomfun:""});return Object(n.useEffect)((function(){h.then((function(e){v(Object(l.a)(Object(l.a)({},m),{},{nomfun:e.nomfun,numcad:e.numcad,numemp:e.numemp,tipcol:e.tipcol,titred:e.titred,codcar:e.codcar})),i([].concat(Object(s.a)(t),[{name:["fullname"],value:e.nomfun},{name:["registry"],value:e.numcad},{name:["subsidiary"],value:e.nomccu},{name:["office"],value:e.nomfil},{name:["boss"],value:e.supime}]))}))}),[]),{nomfun:m.nomfun,numcad:m.numcad,numemp:m.numemp,tipcol:m.tipcol,titred:m.titred,codcar:m.codcar},Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Identifica\xe7\xe3o do Solicitante"}),Object(g.jsxs)(d.a,{labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:t,onFieldsChange:function(e,a){},children:[Object(g.jsxs)(u.a,{gutter:50,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:"fullname",label:"Nome Solicitante",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:"registry",label:"Matr\xedcula",children:Object(g.jsx)(b.a,{readOnly:!0})})})]}),Object(g.jsxs)(u.a,{gutter:50,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:"office",label:"Cargo Solicitante",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:"subsidiary",label:"Filial",children:Object(g.jsx)(b.a,{readOnly:!0})})})]}),Object(g.jsxs)(u.a,{gutter:50,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:"boss",label:"Superior Imediato",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{})})]})]})]})})}var O=t(105),f=t(85);function V(){var e=Object(n.useState)([{name:["registryEmployee"],value:""},{name:["positionemployee"],value:""},{name:["subsidiaryEmployee"],value:""},{name:["bossEmployee"],value:""},{name:["custCenter"],value:""}]),a=Object(c.a)(e,2),t=a[0],i=a[1];var o=O.a.Option;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Informa\xe7\xf5es do Colaborador"}),Object(g.jsxs)(d.a,{labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:t,onFieldsChange:function(e,a){i(a)},children:[Object(g.jsxs)(u.a,{gutter:20,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["nameEmployee"],label:"Colaborador",rules:[{required:!0},{message:"Obrigat\xf3rio selecionar o colaborador."}],children:Object(g.jsx)(f.a,{title:"Selecione o nome do colaborador",children:Object(g.jsxs)(O.a,{allowClear:!0,showSearch:!0,placeholder:"Selecione Colaborador",optionFilterProp:"children",filterOption:function(e,a){return(null===a||void 0===a?void 0:a.children.toLowerCase().indexOf(e.toLocaleLowerCase()))>=0},children:[Object(g.jsx)(o,{value:"Adriana Concei\xe7\xe3o",children:"Adriana Concei\xe7\xe3o"}),Object(g.jsx)(o,{value:"Roberto Mattos",children:"Roberto Mattos"}),Object(g.jsx)(o,{value:"Maria Eduarda Freitas",children:"Maria Eduarda Freitas"}),Object(g.jsx)(o,{value:"Tadeu Carvalho",children:"Tadeu Carvalho"})]})})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["registryEmployee"],label:"Matr\xedcula",children:Object(g.jsx)(b.a,{readOnly:!0})})})]}),Object(g.jsxs)(u.a,{gutter:20,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["positionemployee"],label:"Cargo Colaborador",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["subsidiaryEmployee"],label:"Filial",children:Object(g.jsx)(b.a,{readOnly:!0})})})]}),Object(g.jsxs)(u.a,{gutter:20,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["bossEmployee"],label:"Superior Imediato",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["custCenter"],label:"Centro de Custo",children:Object(g.jsx)(b.a,{readOnly:!0})})})]}),Object(g.jsxs)(u.a,{gutter:20,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["localWork"],label:"Posto de Trabalho",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["salary"],label:"Sal\xe1rio Atual",children:Object(g.jsx)(b.a,{readOnly:!0})})})]}),Object(g.jsxs)(u.a,{gutter:20,children:[Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{name:["workHours"],label:"Jornada de Trabalho",children:Object(g.jsx)(b.a,{readOnly:!0})})}),Object(g.jsx)(j.a,{span:12,children:Object(g.jsx)(d.a.Item,{})})]})]})]})})}var x=t(134),I=t(263),D=t(259),E=t(264);function w(){var e=Object(n.useState)([{name:"who",value:""},{name:"tableInfo",value:{}}]),a=Object(c.a)(e,2),t=(a[0],a[1]),i=Object(n.useState)(""),o=Object(c.a)(i,2),r=(o[0],o[1],Object(n.useState)({hasData:!0,rowSelection:void 0})),s=Object(c.a)(r,2),b=s[0],m=(s[1],[{title:"Situa\xe7\xe3o",dataIndex:"status",key:"key"},{title:"Data Inicio",dataIndex:"dateIn",key:"key"},{title:"Data Fim",dataIndex:"dateEnd",key:"key"},{title:"Dias",dataIndex:"day",key:"key"},{title:"13 Sal\xe1rio",dataIndex:"salary13",key:"key"},{title:"abono",dataIndex:"allowence",key:"key"},{title:"Adiantamento",dataIndex:"advance",key:"key"},{title:"Parcelas",dataIndex:"part",key:"key"},{title:"A\xe7\xe3o",key:"action",render:function(e){return"Definido"===e.status||"Aberto"===e.status?Object(g.jsx)("a",{children:Object(g.jsx)(E.a,{})}):Object(g.jsx)("a",{})}}]),v=d.a.useForm(),h=Object(c.a)(v,1)[0];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Informa\xe7\xf5es de F\xe9rias"}),Object(g.jsxs)(d.a,{name:"formInfoVacation",labelCol:{span:12},wrapperCol:{span:13},labelAlign:"left",form:h,onFieldsChange:function(e,a){t(a),console.log(a)},children:[Object(g.jsx)(u.a,{gutter:20,children:Object(g.jsx)(j.a,{span:24,children:Object(g.jsx)(d.a.Item,{name:"who",label:"Solicita\xe7\xe3o de F\xe9rias",labelAlign:"left",children:Object(g.jsxs)(x.a.Group,{defaultValue:"ownVacation",buttonStyle:"solid",children:[Object(g.jsx)(x.a.Button,{value:"ownVacation",children:"Pr\xf3pria"}),Object(g.jsx)(x.a.Button,{value:"employeeVacation",style:{marginLeft:"200px"},children:"Colaborador"})]})})})}),Object(g.jsx)(d.a.Item,{name:"tableInfo"}),Object(g.jsx)(I.b,{children:Object(g.jsx)(D.a,Object(l.a)(Object(l.a)({},b),{},{pagination:!1,dataSource:[{key:1,status:"Definido",dateIn:"",dateEnd:"",day:"30",salary13:"Sim",allowence:"Sim",advance:"Sim",part:"3",children:[{key:11,part:"1",dateIn:"12/05/2022",dateEnd:"27/05/2022",day:"15"},{key:12,part:"2",dateIn:"11/07/2022",dateEnd:"21/07/2022",day:"10"},{key:13,part:"3",dateIn:"06/09/2022",dateEnd:"11/09/2022",day:"5"}]},{key:1,status:"Aberto",dateIn:"",dateEnd:"",day:"30",salary13:"",allowence:"",advance:"",part:""}],columns:m,onRow:function(e,a){return{onClick:function(t){return function(e,a){console.log(a),console.log(e),console.log(e.part),h.setFieldsValue({tableInfo:e}),h.submit()}(e,a)}}}}))})]})]})})}var F=t(169),S=t(91),k=t(260),C=t(262),B=t(265);function P(e){var a=Object(n.useState)([{name:"unexcused",value:""},{name:"vacationDays",value:30},{name:"dateBeginVacation01",value:""},{name:"daysVacation01",value:30},{name:"dateEndVacation01",value:""},{name:"dateBeginVacation02",value:""},{name:"daysVacation02",value:""},{name:"dateEndVacation02",value:""},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:""},{name:"dateEndVacation03",value:""}]),t=Object(c.a)(a,2),i=t[0],o=t[1],r=Object(n.useState)({enaRow01:!0,enaRow02:!0}),s=Object(c.a)(r,2),l=s[0],m=s[1],v=d.a.useForm(),h=Object(c.a)(v,1)[0],p=i[1].value,y="Informar a data de in\xedcio das f\xe9rias. Somente ser\xe1 permitido data de inicio ap\xf3s 60 dias da data de requisi\xe7\xe3o. ",O="Se parcelado, o n\xfamero de dias n\xe3o poder\xe1 ser menor que 5 e uma das parcelas deve ser de 14 dias",V=function(e){F.a.open({message:"Aten\xe7\xe3o Erro no preenchimento",description:e,icon:Object(g.jsx)(B.a,{style:{color:"#FF0000"}}),style:{background:"#bfcff7"},duration:0})},x=function(e,a){var t=new Date(e);return t.setDate(t.getDate()+a),t.toLocaleDateString("en-GB")};function I(e,a){if(""===e)return!1;console.log(e._d);var t=e._d.getDay();if(0===t){V("Dia de inicio da f\xe9rias cai no domingo. Data n\xe3o permitida. Favor corrigir")}else if(6===t){V("Dia de inicio da f\xe9rias cai no s\xe1bado. Data n\xe3o permitida. Favor corrigir")}if(e){var n=new Date(e._d),o=new Date,r=Math.abs(n.getTime()-o.getTime());if(Math.ceil(r/864e5)<60){return V("N\xe3o \xe9 permitido escolher data abaixo de 60 dias ap\xf3s a data de requisi\xe7\xe3o. Por favor verifique o preenchimento"),!1}if("dateBeginVacation02"===a){var c=Date.parse(i[2].value._d),s=new Date(c);if(s.setDate(s.getDate()+parseInt(i[3].value)),console.log(s),console.log(n),n<s&&n.getDate()<s.getDate()){return V("Data n\xe3o pode ser inferior ou igual a data da primeira parcela. Favor selecionar uma data deferente da primeira parcela "),!1}return!0}if("dateBeginVacation03"===a){var l=Date.parse(i[5].value._d),d=new Date(l);if(d.setDate(d.getDate()+parseInt(i[6].value)),console.log(d),n<d&&n.getDate()<d.getDate()){return V("Data n\xe3o pode ser inferior ou igual a data da primeira parcela. Favor selecionar uma data com diferen\xe7a de no m\xednimo 30 dias "),!1}return!0}return!0}}var D=function(a,t){var n=0;if(console.log(a),e.set({show01:!0,show02:!0}),"daysVacation01"===t){if(n=p-a,console.log(n),(a>=14||n>=14)&&a<=p-5&&a>=5)return m({enaRow01:!1,enaRow02:!0}),n;(i[4].value<5||void 0===i[4].value||n<5)&&m({enaRow01:!0,enaRow02:!0})}else"daysVacation02"===t?(n=p-i[3].value-a,console.log(n<5),console.log(a),console.log(n),console.log(p),console.log(i[9].value),console.log(p-i[3].value),n<5?m({enaRow01:!1,enaRow02:!0}):(a>=14||14===n||a>=5&&a<=p-i[3].value-5)&&(console.log(p-i[3].value-5),m({enaRow01:!1,enaRow02:!1}))):m({enaRow01:!0,enaRow02:!0});return n};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Sele\xe7\xe3o de F\xe9rias"}),Object(g.jsxs)(d.a,{name:"formVacation",labelCol:{span:9},wrapperCol:{span:12},labelAlign:"left",fields:i,form:h,onFieldsChange:function(e,a){o(a),console.log(i)},onValuesChange:function(e,a){},children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)(u.a,{gutter:15,children:[Object(g.jsx)(j.a,{span:10,children:Object(g.jsx)(d.a.Item,{name:"unexcused",label:"Faltas n\xe3o justificadas",labelAlign:"left",labelCol:{span:14},wrapperCol:{span:7},rules:[function(e){e.getFieldsValue,e.setFieldsValue;return{validator:function(e,a){console.log(a),console.log(a),a<=5?h.setFieldsValue({vacationDays:30,daysVacation01:30}):a>5&&a<=14?h.setFieldsValue({vacationDays:24,daysVacation01:24}):a>14&&a<=23?h.setFieldsValue({vacationDays:18,daysVacation01:18}):a>23&&a<=32?h.setFieldsValue({vacationDays:12,daysVacation01:12}):h.setFieldsValue({vacationDays:0,daysVacation01:0})}}}],children:Object(g.jsx)(b.a,{})})}),Object(g.jsx)(j.a,{span:14,children:Object(g.jsx)(d.a.Item,{name:"vacationDays",label:"Dias Aquisitivos de F\xe9rias",labelAlign:"right",labelCol:{span:16},wrapperCol:{span:5},children:Object(g.jsx)(b.a,{})})})]}),Object(g.jsxs)(u.a,{gutter:{xs:8,sm:16,md:24,lg:32},justify:"space-around",style:{marginBottom:"50px"},children:[Object(g.jsx)(S.a,{value:"checkAllowance",children:"Abono"}),Object(g.jsx)(S.a,{value:"checkSalary13",children:"13 Sal\xe1rio"}),Object(g.jsx)(S.a,{value:"checkAdvance",children:"Adiantamento"})]}),Object(g.jsxs)(u.a,{gutter:12,justify:"space-around",children:[Object(g.jsx)(f.a,{placement:"top",title:y,children:Object(g.jsx)(d.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation01",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){var i="";if(I(n,"dateBeginVacation01")){var o=a("daysVacation01");return o&&(i=x(Date.parse(n._d),o)),console.log(i),t({dateEndVacation01:i}),Promise.resolve(t({dateEndVacation01:i}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(g.jsx)(k.a,{allowClear:!0,format:"DD/MM/YYYY"})})}),Object(g.jsx)(f.a,{placement:"top",title:O,children:Object(g.jsx)(d.a.Item,{label:"Qto Dias",name:"daysVacation01",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue,n=e.setFields;return{validator:function(e,o){var r=a("dateBeginVacation01");console.log(o);var c=I(r,"dateBeginVacation01"),s=a("vacationDays");if(0===r.length)return n([{name:"daysVacation01",value:s}]),Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(s<19){return V("Numero de dias de f\xe9rias insuficientes para parcelar f\xe9rias. Valor ser\xe1 em cota \xfanica "),t({daysVacation01:s}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(a("daysVacation02")<6){t({daysVacation01:i[3].value-1,daysVacation02:5});return V("A segunda parcela n\xe3o pode ser menor que 5 "),Promise.reject()}if(!c)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(o<s&&o>s-2){var l=x(Date.parse(r._d),s-5);console.log("inicio");var d=D(s-5,"daysVacation01");t({daysVacation01:s-5,dateEndVacation01:l,daysVacation02:d,dateEndVacation02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}else{if(a("daysVacation02")<6&&a("daysVacation01")>=a("vacationDays")-10&&5===a("daysVacation03"))return console.log("Erro: Se P2 e P3 igual 5 n\xe3o permite que P1 aceite incrementar at\xe9 30 "),Promise.reject(new Error("M\xe1ximo valor permitido"));if(a("daysVacation02")<=5&&a("daysVacation01")>s-6){var u=x(Date.parse(r._d),s);console.log("P3=0 P2<5 P1>total - 5"),t({daysVacation01:s,dateEndVacation01:u,daysVacation02:"",dateEndVacation02:"",dateBeginVacation02:""}),D(o,"daysVacation01")}else{console.log(o);var j=x(Date.parse(r._d),o);if(console.log(j),""===a("dateBeginVacation02")&&""===a("daysVacation02")){console.log("dataInP2 e diasp2 vazios ");var b=D(o,"daysVacation01");t({dateEndVacation01:j,daysVacation02:b,dateEndVacation02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}else if(""!==a("daysVacation02")){console.log("Regra da parcela2");var m=a("dateBeginVacation02"),v=s-a("daysVacation01")-a("daysVacation03");if(""!==m){var h=x(Date.parse(m._d),o);if(""!==a("daysVacation03")){console.log("Regra da parcela3");var p=a("daysVacation03"),g=""!==a("dateBeginVacation03")?a("dateBeginVacation03"):"";if(""!==g){console.log("dataInP3 com valor");var y=x(Date.parse(g._d),p);t({dateEndVacation01:j,daysVacation02:v,dateEndVacation02:h,dateBeginVacation02:m,daysVacation03:p,dateEndVacation03:y,dateBeginVacation03:g})}else console.log("dataInP3 vazio"),t({dateEndVacation01:j,daysVacation02:v,dateEndVacation02:h,dateBeginVacation02:m,daysVacation03:p,dateEndVacation03:"",dateBeginVacation03:""}),D(v,"daysVacation02")}else""===a("daysVacation03")&&(console.log("diasP3 vazio "),t({dateEndVacation01:j,daysVacation02:v,dateEndVacation02:h,dateBeginVacation02:m,daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""}))}else{console.log("dataInP2 vazio e diasP2 com valor ");var O=D(o,"daysVacation01");console.log(o),console.log(O),t({dateEndVacation01:j,daysVacation02:O,dateEndVacation02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:""})}return Promise.resolve()}}}}}}],children:Object(g.jsx)(C.a,{min:5,max:h.getFieldValue("daysVacation02")<6&&5===h.getFieldValue("daysVacation03")?h.getFieldValue("vacationDays")-h.getFieldValue("daysVacation02")-h.getFieldValue("daysVacation03"):h.getFieldValue("vacationDays")})})}),Object(g.jsx)(d.a.Item,{label:"Data Fim",name:"dateEndVacation01",children:Object(g.jsx)(b.a,{readOnly:!0})})]})]}),Object(g.jsx)("div",{hidden:!(!l.enaRow01||!e.ena.show01),children:Object(g.jsxs)(u.a,{gutter:12,justify:"space-around",children:[Object(g.jsx)(f.a,{placement:"top",title:y,children:Object(g.jsx)(d.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation02",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){var i=I(n,"dateBeginVacation02"),o="";if(a("daysVacation01")<14&&a("daysVacation02")<14&&a("daysVacation03")<14){return V("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var r=a("daysVacation02");return r&&(o=x(Date.parse(n._d),r)),t({dateEndVacation02:o}),Promise.resolve(t({dateEndVacation02:o}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(g.jsx)(k.a,{allowClear:!0,format:"DD/MM/YYYY"})})}),Object(g.jsx)(f.a,{placement:"top",title:O,children:Object(g.jsx)(d.a.Item,{label:"Qto Dias",name:"daysVacation02",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue,n=e.setFields;return{validator:function(e,o){console.log(o);var r=a("dateBeginVacation02"),c=I(r,"dateBeginVacation02"),s=a("vacationDays");if(s<25){return V("Numero de dias de f\xe9rias insuficientes para parcelar as f\xe9rias em 3 vezes. "),t({daysVacation02:s-a("daysVacation01")}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!r._d)return Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(!c)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(o<=s-a("daysVacation01")&&o>=s-a("daysVacation01")-2){console.log("inicio parcela 2");var l=x(Date.parse(r._d),o-4);n([{name:"daysVacation02",value:o-4},{name:"dateEndVacation02",value:l},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:5},{name:"dateEndVacation03",value:""}]),D(o-4,"daysVacation02")}else{if(!(a("daysVacation03")<6&&a("daysVacation02")>s-a("daysVacation01")-5)){if(a("daysVacation02")<6&&a("daysVacation03")<6)return console.log("Erro diasP2 e diasP3 < 6"),Promise.reject();console.log("Se ok");var d=D(o,"daysVacation02"),u=x(Date.parse(r._d),o);console.log(u),console.log(d);var j=a("dateBeguinVacation03");if(console.log(j),console.log(i[8]),""===i[8].value)console.log("Sem dataInP3"),t({dateEndVacation02:u,daysVacation03:d,dateEndVacation03:"",dateBeguinVacation03:""});else{console.log("Com dataInP3");var b=x(Date.parse(i[8].value._d),d);t({dateEndVacation02:u,daysVacation03:d,dateEndVacation03:b})}return Promise.resolve()}console.log("daysVacation03 menor que 5");var m=a("vacationDays")-a("daysVacation01");console.log(m);var v=x(Date.parse(r._d),m);t({daysVacation02:m,dateEndVacation02:v,daysVacation03:"",dateEndVacation03:"",dateBeguinVacation03:""}),D(m,"daysVacation02")}}}}],children:Object(g.jsx)(C.a,{min:5,max:h.getFieldValue("vacationDays")-h.getFieldValue("daysVacation01"),onChange:function(e){console.log(e)}})})}),Object(g.jsx)(d.a.Item,{label:"Data Fim",name:"dateEndVacation02",children:Object(g.jsx)(b.a,{readOnly:!0})})]})}),Object(g.jsx)("div",{hidden:!(!l.enaRow02||!e.ena.show02),children:Object(g.jsxs)(u.a,{gutter:12,justify:"space-around",children:[Object(g.jsx)(f.a,{placement:"top",title:y,children:Object(g.jsx)(d.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation03",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){var i=I(n,"dateBeginVacation03"),o="";if(a("daysVacation01")<14&&a("daysVacation02")<14&&a("daysVacation03")<14){return V("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var r=a("daysVacation03");return console.log(r),r&&(o=x(Date.parse(n._d),r)),console.log(o),t({dateEndVacation03:o}),Promise.resolve(t({dateEndVacation03:o}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(g.jsx)(k.a,{allowClear:!0,format:"DD/MM/YYYY"})})}),Object(g.jsx)(d.a.Item,{label:"Qto Dias",name:"daysVacation03",children:Object(g.jsx)(C.a,{readOnly:!0})}),Object(g.jsx)(d.a.Item,{label:"Data Fim",name:"dateEndVacation03",children:Object(g.jsx)(b.a,{readOnly:!0})})]})})]})]})})}var A=t(59);var R=function(){var e=Object(n.useState)([{name:"approver",value:""}]),a=Object(c.a)(e,2),t=a[0],i=(a[1],Object(n.useState)([{key:"",usu:"",dateTime:"",role:"",description:""}])),o=Object(c.a)(i,2),r=o[0],l=o[1],m=Object(n.useState)(0),v=Object(c.a)(m,2),h=v[0],p=v[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("fieldset",{children:[Object(g.jsx)("legend",{children:"Observa\xe7\xf5es"}),Object(g.jsxs)(d.a,{fields:t,onFieldsChange:function(e,a){},onFinish:function(e){console.log(e),console.log(e.approver),console.log(Object.entries(e));var a=new Date;console.log(a.toLocaleString("en-GB",{timeZone:"UTC"}));var t={key:h.toString(),usu:e.approver,dateTime:a.toLocaleString("en-GB",{timeZone:"UTC"}),role:"",description:e.descriptionApp};p((function(e){return e+1})),l((function(e){return[t].concat(Object(s.a)(e))})),console.log(t)},children:[Object(g.jsxs)(u.a,{gutter:20,children:[Object(g.jsx)(j.a,{span:20,children:Object(g.jsx)(d.a.Item,{name:"approver",label:"Aprovador",labelAlign:"left",labelCol:{span:4},wrapperCol:{span:10},children:Object(g.jsx)(b.a,{style:{marginLeft:"25px"}})})}),Object(g.jsx)(j.a,{span:4,children:Object(g.jsx)(d.a.Item,{labelAlign:"right",children:Object(g.jsx)(A.a,{block:!0,type:"primary",htmlType:"submit",children:"Gravar"})})})]}),Object(g.jsx)(f.a,{title:"Campo opcional para acrescentar observa\xe7\xf5es. Ap\xf3s digitar pressionar tecla 'Gravar'.",children:Object(g.jsx)(d.a.Item,{name:"descriptionApp",label:"Observa\xe7\xf5es",labelAlign:"left",labelCol:{span:4},children:Object(g.jsx)(b.a.TextArea,{showCount:!0,maxLength:150})})}),Object(g.jsx)(d.a.Item,{label:"Hist\xf3rico",labelAlign:"left",children:Object(g.jsx)(D.a,{dataSource:r,columns:[{title:"Nome",dataIndex:"usu",key:"key",width:"20%"},{title:"Cargo",dataIndex:"office",key:"key",width:"20%"},{title:"Data/Hora",dataIndex:"dateTime",key:"key",width:"20%"},{title:"Papel",dataIndex:"paper",key:"key",width:"20%"},{title:"Observa\xe7\xf5es",dataIndex:"description",key:"key",width:"20%"}]})})]})]})})},Y=t(47),M=t.n(Y);function q(){var e=Object(n.useState)({show01:!0,show02:!0}),a=Object(c.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(0),r=Object(c.a)(o,2);r[0],r[1];return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y,{}),Object(g.jsx)(V,{}),Object(g.jsxs)(d.a.Provider,{onFormFinish:function(e,a){var t=a.values,n=a.forms;console.log(e),console.log(t),console.log(n);var o=n.formVacation;if(t.tableInfo)for(var r=0;r<t.tableInfo.part;r++)o.setFields([{name:"dateBeginVacation0"+(r+1),value:M()(t.tableInfo.children[r].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(r+1),value:t.tableInfo.children[r].day},{name:"dateEndVacation0"+(r+1),value:t.tableInfo.children[r].dateEnd}]);o.setFields([{name:"dateBeginVacation01",value:M()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:M()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:M()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(g.jsx)(w,{}),Object(g.jsx)(P,{ena:t,set:i})]}),Object(g.jsx)(R,{})]})}var T=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(q,{})})};r.a.render(Object(g.jsx)(i.a.StrictMode,{children:Object(g.jsx)(T,{})}),document.getElementById("root"))},93:function(e,a,t){}},[[256,1,2]]]);
//# sourceMappingURL=main.228f0030.chunk.js.map