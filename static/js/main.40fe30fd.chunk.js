(this["webpackJsonpform-web-ferias"]=this["webpackJsonpform-web-ferias"]||[]).push([[0],{180:function(a,e,t){},256:function(a,e,t){"use strict";t.r(e);var n=t(0),i=t.n(n),r=t(43),d=t.n(r),o=(t(180),t(6)),c=t(261),s=t(257),l=t(258),j=t(167),u=t(134),b=(t(93),t(7));function m(a){var e=Object(n.useState)([{name:"fullname",value:""},{name:"registry",value:""},{name:"subsidiary",value:""},{name:"office",value:""},{name:"boss",value:""},{name:"who",value:""}]),t=Object(o.a)(e,2),i=t[0],r=(t[1],c.a.useForm()),d=Object(o.a)(r,1)[0];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("legend",{children:"Identifica\xe7\xe3o do Solicitante"}),Object(b.jsxs)(c.a,{name:"formIdentify",labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:i,form:d,onFieldsChange:function(a,e){},children:[Object(b.jsxs)(s.a,{gutter:50,children:[Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:"fullname",label:"Nome Solicitante",children:Object(b.jsx)(j.a,{})})}),Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:"registry",label:"Matr\xedcula",children:Object(b.jsx)(j.a,{readOnly:!0})})})]}),Object(b.jsxs)(s.a,{gutter:50,children:[Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:"office",label:"Cargo Solicitante",children:Object(b.jsx)(j.a,{readOnly:!0})})}),Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:"subsidiary",label:"Filial",children:Object(b.jsx)(j.a,{readOnly:!0})})})]}),Object(b.jsxs)(s.a,{gutter:50,children:[Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:"boss",label:"Superior Imediato",children:Object(b.jsx)(j.a,{readOnly:!0})})}),Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)("span",{hidden:a.own,children:Object(b.jsx)(c.a.Item,{name:"who",label:"Solicita\xe7\xe3o de F\xe9rias",labelAlign:"left",children:Object(b.jsxs)(u.a.Group,{defaultValue:"ownVacation",buttonStyle:"solid",onChange:function(a){d.setFieldsValue({who:a.target.value}),d.submit()},children:[Object(b.jsx)(u.a.Button,{value:"ownVacation",children:"Pr\xf3pria"}),Object(b.jsx)(u.a.Button,{value:"employeeVacation",style:{marginLeft:"20px"},children:"Colaborador"})]})})})})]})]})]})})}var y=t(105),O=t(85);function g(){var a=Object(n.useState)([{name:["registryEmployee"],value:""},{name:["positionemployee"],value:""},{name:["subsidiaryEmployee"],value:""},{name:["bossEmployee"],value:""},{name:["custCenter"],value:""}]),e=Object(o.a)(a,2),t=e[0],i=e[1],r=Object(n.useState)(["Patricia","Gustavo","Maria"]),d=Object(o.a)(r,2),u=(d[0],d[1],y.a.Option);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("legend",{children:"Informa\xe7\xf5es do Colaborador"}),Object(b.jsxs)(c.a,{name:"formEmployee",labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:t,onFieldsChange:function(a,e){i(e)},children:[Object(b.jsxs)(s.a,{gutter:20,children:[Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:["nameEmployee"],label:"Colaborador",rules:[{required:!0},{message:"Obrigat\xf3rio selecionar o colaborador."}],children:Object(b.jsx)(O.a,{title:"Selecione o nome do colaborador",children:Object(b.jsx)(y.a,{allowClear:!0,showSearch:!0,placeholder:"Selecione Colaborador",optionFilterProp:"children",filterOption:function(a,e){return(null===e||void 0===e?void 0:e.children.toLowerCase().indexOf(a.toLocaleLowerCase()))>=0},children:[{id:1,name:"Patricia"},{id:2,name:"Gustavo"},{id:3,name:"Maria"}].map((function(a,e){return Object(b.jsx)(u,{value:a.name,children:a.name},e)}))})})})}),Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:["registryEmployee"],label:"Matr\xedcula",children:Object(b.jsx)(j.a,{readOnly:!0})})})]}),Object(b.jsxs)(s.a,{gutter:20,children:[Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:["positionemployee"],label:"Cargo Colaborador",children:Object(b.jsx)(j.a,{readOnly:!0})})}),Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:["subsidiaryEmployee"],label:"Filial",children:Object(b.jsx)(j.a,{readOnly:!0})})})]}),Object(b.jsxs)(s.a,{gutter:20,children:[Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{name:["bossEmployee"],label:"Superior Imediato",children:Object(b.jsx)(j.a,{readOnly:!0})})}),Object(b.jsx)(l.a,{span:12,children:Object(b.jsx)(c.a.Item,{})})]})]})]})})}var h=t(1),V=t(259),v=t(264);function x(){var a=Object(n.useState)([{name:"who",value:""},{name:"tableInfo",value:{}}]),e=Object(o.a)(a,2),t=(e[0],e[1]),i=Object(n.useState)({hasData:!0,rowSelection:void 0}),r=Object(o.a)(i,2),d=r[0],s=(r[1],function(a){var e=a,t="";return void 0!=e&&(t=e.substring(6,10)+","+e.substring(3,5)+","+e.substring(0,2)),new Date(t)}),l=[{title:"Situa\xe7\xe3o",dataIndex:"status",key:"key"},{title:"Per\xedodo Aquisitivo Inicial",dataIndex:"perAqIn",key:"key"},{title:"Per\xedodo Aquisitivo Final",dataIndex:"perAqEnd",key:"key"},{title:"Data Inicio",dataIndex:"dateIn",key:"key"},{title:"Data Fim",dataIndex:"dateEnd",key:"key"},{title:"Dias",dataIndex:"day",key:"key"},{title:"13\xb0 Sal\xe1rio",dataIndex:"salary13",key:"key"},{title:"Abono",dataIndex:"allowence",key:"key"},{title:"Parcelas",dataIndex:"part",key:"key"},{title:"A\xe7\xe3o",key:"action",render:function(a){var e=new Date(Date.now()),t=s(a.perAqIn),n=s(a.perAqEnd);if(e>t&&e<n){if(a.part>1){var i=s(a.children[0].dateIn);return i.setDate(i.getDate()-60),console.log(a.children[0].dateIn),e<i?Object(b.jsx)("a",{children:Object(b.jsx)(v.a,{})}):Object(b.jsx)("a",{})}if(1===a.part){var r=s(a.dateIn);return r.setDate(r.getDate()-60),e<r?Object(b.jsx)("a",{children:Object(b.jsx)(v.a,{})}):void 0}return Object(b.jsx)("a",{children:Object(b.jsx)(v.a,{})})}return Object(b.jsx)("a",{})}}],j=c.a.useForm(),u=Object(o.a)(j,1)[0];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("legend",{children:"Informa\xe7\xf5es de F\xe9rias"}),Object(b.jsxs)(c.a,{name:"formInfoVacation",labelAlign:"left",form:u,onFieldsChange:function(a,e){t(e)},children:[Object(b.jsx)(c.a.Item,{name:"tableInfo"}),Object(b.jsx)(V.a,Object(h.a)(Object(h.a)({},d),{},{pagination:!1,dataSource:[{key:1,status:"Definido",perAqIn:"27/06/2022",perAqEnd:"30/07/2022",dateIn:"",dateEnd:"",day:"30",salary13:"",allowence:"",part:"3",children:[{key:11,part:"1",dateIn:"04/09/2022",dateEnd:"19/09/2022",salary13:"Sim",allowence:"",day:"15"},{key:12,part:"2",dateIn:"01/10/2022",dateEnd:"11/10/2022",day:"10"},{key:13,part:"3",dateIn:"06/11/2022",dateEnd:"11/11/2022",salary13:"",allowence:"Sim",day:"5"}]},{key:2,status:"Aberto",perAqIn:"28/06/2022",perAqEnd:"30/07/2022",dateIn:"",dateEnd:"",day:"30",salary13:"",allowence:"",part:""}],columns:l,onRow:function(a,e){return{onClick:function(e){return function(a,e){u.setFieldsValue({tableInfo:a}),u.submit()}(a)}}}}))]})]})})}var p=t(169),f=t(91),D=t(260),I=t(262),w=t(263),E=t(265);function F(a){var e=Object(n.useState)([{name:"periodEnd",value:""},{name:"unexcused",value:""},{name:"vacationDays",value:""},{name:"dateBeginVacation01",value:""},{name:"daysVacation01",value:""},{name:"dateEndVacation01",value:""},{name:"datePgto01",value:""},{name:"dateBeginVacation02",value:""},{name:"daysVacation02",value:""},{name:"dateEndVacation02",value:""},{name:"datePgto02",value:""},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:""},{name:"dateEndVacation03",value:""},{name:"datePgto03",value:""},{name:"abonoPec",value:""},{name:"dtsal",value:""}]),t=Object(o.a)(e,2),i=t[0],r=t[1],d=Object(n.useState)({enaRow01:!0,enaRow02:!0}),m=Object(o.a)(d,2),y=m[0],g=m[1],h=Object(n.useState)(!1),V=Object(o.a)(h,2),v=V[0],x=V[1],F=c.a.useForm(),P=Object(o.a)(F,1)[0],B=P.getFieldValue("vacationDays"),k="Informar a data de in\xedcio das f\xe9rias. Somente ser\xe1 permitido data de inicio ap\xf3s 60 dias da data de requisi\xe7\xe3o. ",S="Se parcelado, o n\xfamero de dias n\xe3o poder\xe1 ser menor que 5 e uma das parcelas deve ser de 14 dias",A=function(a){p.a.open({message:"Aten\xe7\xe3o Erro no preenchimento",description:a,icon:Object(b.jsx)(E.a,{style:{color:"#FF0000"}}),style:{background:"#bfcff7"},duration:5})},C=function(a,e){var t=new Date(a);return t.setDate(t.getDate()+e),t.toLocaleDateString("en-GB")},Y=function(a){var e=new Date(a).getDay(),t=new Date(a),n=1===e?5:2===e?6:3===e?7:4===e?8:5===e?2:6===e?3:0;return t.setDate(t.getDate()-n),t.toLocaleDateString("en-GB")},M=function(a,e,t){var n=P.getFieldValue(a),i=Date.parse(n._d),r=new Date(i),d=new Date(r.getFullYear(),r.getMonth(),r.getDate()),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),c=P.getFieldValue(e);if(d.setDate(d.getDate()+parseInt(c)),o<=d){if(o.getMonth()===d.getMonth()&&o.getDate()<d.getDate()){A("Data n\xe3o pode ser inferior ou igual a data da primeira parcela. ")}else if(o.getMonth()<d.getMonth()){A("M\xeas n\xe3o pode ser inferior ao m\xeas da primeira parcela. Favor corrigir.")}return!1}return!0};function q(a,e){if(""===a)return!1;var t=a._d.getDay();if(0===t){A("Dia de inicio da f\xe9rias cai no domingo. Data n\xe3o permitida. Favor corrigir")}else if(6===t){A("Dia de inicio da f\xe9rias cai no s\xe1bado. Data n\xe3o permitida. Favor corrigir")}if(a){var n=new Date(a._d),i=new Date,r=Math.abs(n.getTime()-i.getTime());if(Math.ceil(r/864e5)<60){return A("N\xe3o \xe9 permitido escolher data abaixo de 60 dias ap\xf3s a data de requisi\xe7\xe3o. Por favor verifique o preenchimento"),!1}return"dateBeginVacation02"===e?M("dateBeginVacation01","daysVacation01",n):"dateBeginVacation03"!==e||M("dateBeginVacation02","daysVacation02",n)}}var _=function(e,t){var n=0,i=P.getFieldValue("daysVacation01"),r=P.getFieldValue("daysVacation02");if(a.set({show01:!0,show02:!0}),"daysVacation01"===t){if(n=B-e,(e>=14||n>=14)&&e<=B-5&&e>=5)return g({enaRow01:!1,enaRow02:!0}),n;(r<5||void 0===r||n<5)&&g({enaRow01:!0,enaRow02:!0})}else"daysVacation02"===t?(n=B-i-e)<5?g({enaRow01:!1,enaRow02:!0}):(e>=14||14===n||e>=5&&e<=B-i-5)&&g({enaRow01:!1,enaRow02:!1}):g({enaRow01:!0,enaRow02:!0});return n};return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("legend",{children:"Sele\xe7\xe3o de F\xe9rias"}),Object(b.jsxs)(c.a,{name:"formVacation",labelAlign:"left",fields:i,form:P,onFieldsChange:function(a,e){r(e)},children:[Object(b.jsxs)(l.a,{span:20,children:[Object(b.jsxs)(s.a,{justify:"space-around",children:[Object(b.jsx)(c.a.Item,{label:"Fim do Per\xedodo Aquisitivo",name:"periodEnd",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(b.jsx)(c.a.Item,{name:"unexcused",label:"Faltas n\xe3o justificadas",rules:[function(a){var e=a.setFieldsValue;return{validator:function(a,t){e(t<=5?{vacationDays:30,daysVacation01:30}:t>5&&t<=14?{vacationDays:24,daysVacation01:24}:t>14&&t<=23?{vacationDays:18,daysVacation01:18}:t>23&&t<=32?{vacationDays:12,daysVacation01:12}:{vacationDays:0,daysVacation01:0})}}}],children:Object(b.jsx)(j.a,{style:{width:"60px"}})}),Object(b.jsx)(c.a.Item,{name:"vacationDays",label:"Dias Aquisitivos de F\xe9rias",labelAlign:"right",children:Object(b.jsx)(j.a,{style:{width:"60px"},readOnly:!0})})]}),Object(b.jsx)(s.a,{children:Object(b.jsx)(c.a.Item,{name:"abonoPec",rules:[function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){if(v){var i=e("vacationDays")/3*2;t({vacationDays:i,daysVacation01:i})}else{var r=e("vacationDays")/2*3;t({vacationDays:r,daysVacation01:r})}}}}],children:Object(b.jsx)(f.a,{onChange:function(a){x(a.target.checked)},value:"checked",children:"Abono"})})})]}),Object(b.jsxs)(s.a,{children:[Object(b.jsxs)(l.a,{span:20,children:[Object(b.jsxs)(s.a,{justify:"space-around",children:[Object(b.jsx)(O.a,{placement:"top",title:k,children:Object(b.jsx)(c.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation01",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){var i=q(n,"dateBeginVacation01"),r="",d=Y(n._d);if(i){var o=e("daysVacation01");return o&&(r=C(Date.parse(n._d),o)),t({dateEndVacation01:r,datePgto01:d}),Promise.resolve(t({dateEndVacation01:r,datePgto01:d}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(b.jsx)(D.a,{style:{width:"120px"},allowClear:!0,format:"DD/MM/YYYY"})})}),Object(b.jsx)(O.a,{placement:"top",title:S,children:Object(b.jsx)(c.a.Item,{label:"Qto Dias",name:"daysVacation01",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue,n=a.setFields;return{validator:function(a,i){var r=e("dateBeginVacation01"),d=q(r,"dateBeginVacation01"),o=e("vacationDays"),c=Y(r._d);if(0===r.length)return n([{name:"daysVacation01",value:o}]),Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(o<19){return A("Numero de dias de f\xe9rias insuficientes para parcelar f\xe9rias. Valor ser\xe1 em cota \xfanica "),t({daysVacation01:o}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!d)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(i<o&&i>o-2){var s=C(Date.parse(r._d),o-5),l=_(o-5,"daysVacation01");t({daysVacation01:o-5,dateEndVacation01:s,datePgto01:c,daysVacation02:l,dateEndVacation02:"",dateBeginVacation02:"",datePgto02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""})}else{if(e("daysVacation02")<6&&e("daysVacation01")>=e("vacationDays")-10&&5===e("daysVacation03"))return console.log("Erro: Se P2 e P3 igual 5 n\xe3o permite que P1 aceite incrementar at\xe9 30 "),Promise.reject(new Error("M\xe1ximo valor permitido"));if(e("daysVacation02")<=5&&e("daysVacation01")>o-6){var j=C(Date.parse(r._d),o);t({daysVacation01:o,dateEndVacation01:j,datePgto01:c,daysVacation02:"",dateEndVacation02:"",dateBeginVacation02:"",datePgto02:""}),_(i,"daysVacation01")}else{var u=C(Date.parse(r._d),i);if(""===e("dateBeginVacation02")&&""===e("daysVacation02")){var b=_(i,"daysVacation01");t({dateEndVacation01:u,datePgto01:c,daysVacation02:b,dateEndVacation02:"",dateBeginVacation02:"",datePgto02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""})}else if(""!==e("daysVacation02")){var m=e("dateBeginVacation02"),y=Y(m._d),O=o-e("daysVacation01")-e("daysVacation03");if(""!==m){var g=C(Date.parse(m._d),i);if(""!==e("daysVacation03")){var h=e("daysVacation03"),V=""!==e("dateBeginVacation03")?e("dateBeginVacation03"):"",v=Y(V._d);if(""!==V){var x=C(Date.parse(V._d),h);t({dateEndVacation01:u,datePgto01:c,daysVacation02:O,dateEndVacation02:g,dateBeginVacation02:m,datePgto02:y,daysVacation03:h,dateEndVacation03:x,dateBeginVacation03:V,datePgto03:v})}else t({dateEndVacation01:u,datePgto01:c,daysVacation02:O,dateEndVacation02:g,dateBeginVacation02:m,datePgto02:y,daysVacation03:h,dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""}),_(O,"daysVacation02")}else""===e("daysVacation03")&&t({dateEndVacation01:u,datePgto01:c,daysVacation02:O,dateEndVacation02:g,dateBeginVacation02:m,datePgto02:y,daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""})}else{var p=_(i,"daysVacation01");t({dateEndVacation01:u,datePgto01:c,daysVacation02:p,dateEndVacation02:"",datePgto02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",datePgto03:"",dateBeginVacation03:""})}return Promise.resolve()}}}}}}],children:Object(b.jsx)(I.a,{min:5,max:P.getFieldValue("daysVacation02")<6&&5===P.getFieldValue("daysVacation03")?P.getFieldValue("vacationDays")-P.getFieldValue("daysVacation02")-P.getFieldValue("daysVacation03"):P.getFieldValue("vacationDays"),style:{width:"60px"}})})}),Object(b.jsx)(c.a.Item,{label:"Data Fim",name:"dateEndVacation01",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(b.jsx)(c.a.Item,{label:"Data Pgto",name:"datePgto01",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})})]}),Object(b.jsx)("div",{hidden:!(!y.enaRow01||!a.ena.show01),children:Object(b.jsxs)(s.a,{justify:"space-around",children:[Object(b.jsx)(O.a,{placement:"top",title:k,children:Object(b.jsx)(c.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation02",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){var i=q(n,"dateBeginVacation02"),r="",d=Y(n._d);if(e("daysVacation01")<14&&e("daysVacation02")<14&&e("daysVacation03")<14){return A("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var o=e("daysVacation02");return o&&(r=C(Date.parse(n._d),o)),t({dateEndVacation02:r,datePgto02:d}),Promise.resolve(t({dateEndVacation02:r,datePgto02:d}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(b.jsx)(D.a,{style:{width:"120px"},allowClear:!0,format:"DD/MM/YYYY"})})}),Object(b.jsx)(O.a,{placement:"top",title:S,children:Object(b.jsx)(c.a.Item,{label:"Qto Dias",name:"daysVacation02",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue,n=a.setFields;return{validator:function(a,i){var r=e("dateBeginVacation02"),d=q(r,"dateBeginVacation02"),o=e("vacationDays"),c=Y(r._d);if(o<25){return A("Numero de dias de f\xe9rias insuficientes para parcelar as f\xe9rias em 3 vezes. "),t({daysVacation02:o-e("daysVacation01")}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!r._d)return Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(!d)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(i<=o-e("daysVacation01")&&i>=o-e("daysVacation01")-2){var s=C(Date.parse(r._d),i-4);n([{name:"daysVacation02",value:i-4},{name:"dateEndVacation02",value:s},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:5},{name:"dateEndVacation03",value:""}]),_(i-4,"daysVacation02")}else{if(!(e("daysVacation03")<6&&e("daysVacation02")>o-e("daysVacation01")-5)){if(e("daysVacation02")<6&&e("daysVacation03")<6)return Promise.reject();var l=_(i,"daysVacation02"),j=C(Date.parse(r._d),i);if(""===e("dateBeginVacation03"))t({dateEndVacation02:j,datePgto02:c,daysVacation03:l,dateEndVacation03:"",dateBeguinVacation03:"",datePgto03:""});else{var u=C(Date.parse(e("dateBeginVacation03")._d),l),b=Y(e("dateBeginVacation03")._d);t({dateEndVacation02:j,datePgto02:c,daysVacation03:l,dateEndVacation03:u,datePgto03:b})}return Promise.resolve()}var m=e("vacationDays")-e("daysVacation01"),y=C(Date.parse(r._d),m);t({daysVacation02:m,dateEndVacation02:y,datePgto02:c,daysVacation03:"",dateEndVacation03:"",dateBeguinVacation03:"",datePgto03:""}),_(m,"daysVacation02")}}}}],children:Object(b.jsx)(I.a,{min:5,max:P.getFieldValue("vacationDays")-P.getFieldValue("daysVacation01"),style:{width:"60px"}})})}),Object(b.jsx)(c.a.Item,{label:"Data Fim",name:"dateEndVacation02",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(b.jsx)(c.a.Item,{label:"Data Pgto",name:"datePgto02",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})})]})}),Object(b.jsx)("div",{hidden:!(!y.enaRow02||!a.ena.show02),children:Object(b.jsxs)(s.a,{justify:"space-around",children:[Object(b.jsx)(O.a,{placement:"top",title:k,children:Object(b.jsx)(c.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation03",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(a){var e=a.getFieldValue,t=a.setFieldsValue;return{validator:function(a,n){var i=q(n,"dateBeginVacation03"),r="",d=Y(n._d);if(e("daysVacation01")<14&&e("daysVacation02")<14&&e("daysVacation03")<14){return A("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var o=e("daysVacation03");return o&&(r=C(Date.parse(n._d),o)),t({dateEndVacation03:r,datePgto03:d}),Promise.resolve(t({dateEndVacation03:r,datePgto03:d}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(b.jsx)(D.a,{style:{width:"120px"},allowClear:!0,format:"DD/MM/YYYY"})})}),Object(b.jsx)(c.a.Item,{label:"Qto Dias",name:"daysVacation03",children:Object(b.jsx)(I.a,{style:{width:"60px"},readOnly:!0})}),Object(b.jsx)(c.a.Item,{label:"Data Fim",name:"dateEndVacation03",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(b.jsx)(c.a.Item,{label:"Data Pgto",name:"datePgto03",children:Object(b.jsx)(j.a,{style:{width:"120px"},readOnly:!0})})]})})]}),Object(b.jsx)(l.a,{span:4,children:Object(b.jsx)(s.a,{children:Object(b.jsx)(c.a.Item,{name:"dtsal",style:{marginTop:"-55px"},children:Object(b.jsx)(u.a.Group,{children:Object(b.jsxs)(w.b,{direction:"vertical",size:35,style:{display:"flex",marginTop:"-55px"},children:[Object(b.jsx)(u.a,{value:0,checked:!0,children:"N\xe3o"}),Object(b.jsx)(u.a,{value:1,children:"13 Sal"}),Object(b.jsx)("span",{hidden:!(!y.enaRow01||!a.ena.show01),children:Object(b.jsx)(u.a,{value:2,children:"13 Sal"})}),Object(b.jsx)("span",{hidden:!(!y.enaRow02||!a.ena.show02),children:Object(b.jsx)(u.a,{value:3,children:"13 Sal"})})]})})})})})]})]})]})})}var P=t(9),B=t(59);var k=function(){var a=Object(n.useState)([{name:"approver",value:""}]),e=Object(o.a)(a,2),t=e[0],i=(e[1],Object(n.useState)([{key:"",usu:"",dateTime:"",role:"",description:""}])),r=Object(o.a)(i,2),d=r[0],u=r[1],m=Object(n.useState)(0),y=Object(o.a)(m,2),g=y[0],h=y[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("fieldset",{children:[Object(b.jsx)("legend",{children:"Observa\xe7\xf5es"}),Object(b.jsxs)(c.a,{fields:t,onFieldsChange:function(a,e){},onFinish:function(a){var e=new Date,t={key:g.toString(),usu:a.approver,dateTime:e.toLocaleString("en-GB",{timeZone:"UTC"}),role:"",description:a.descriptionApp};h((function(a){return a+1})),u((function(a){return[t].concat(Object(P.a)(a))}))},children:[Object(b.jsxs)(s.a,{gutter:20,children:[Object(b.jsx)(l.a,{span:20,children:Object(b.jsx)(c.a.Item,{name:"approver",label:"Aprovador",labelAlign:"left",labelCol:{span:4},wrapperCol:{span:10},children:Object(b.jsx)(j.a,{style:{marginLeft:"25px"}})})}),Object(b.jsx)(l.a,{span:4,children:Object(b.jsx)(c.a.Item,{labelAlign:"right",children:Object(b.jsx)(B.a,{block:!0,type:"primary",htmlType:"submit",children:"Gravar"})})})]}),Object(b.jsx)(O.a,{title:"Campo opcional para acrescentar observa\xe7\xf5es. Ap\xf3s digitar pressionar tecla 'Gravar'.",children:Object(b.jsx)(c.a.Item,{name:"descriptionApp",label:"Observa\xe7\xf5es",labelAlign:"left",labelCol:{span:4},children:Object(b.jsx)(j.a.TextArea,{showCount:!0,maxLength:150})})}),Object(b.jsx)(c.a.Item,{label:"Hist\xf3rico",labelAlign:"left",children:Object(b.jsx)(V.a,{dataSource:d,columns:[{title:"Nome",dataIndex:"usu",key:"key",width:"20%"},{title:"Cargo",dataIndex:"office",key:"key",width:"20%"},{title:"Data/Hora",dataIndex:"dateTime",key:"key",width:"20%"},{title:"Papel",dataIndex:"paper",key:"key",width:"20%"},{title:"Observa\xe7\xf5es",dataIndex:"description",key:"key",width:"20%"}]})})]})]})})},S=t(47),A=t.n(S);function C(){var a=Object(n.useState)({show01:!0,show02:!0}),e=Object(o.a)(a,2),t=e[0],i=e[1],r=Object(n.useState)(!0),d=Object(o.a)(r,2),s=d[0],l=d[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{children:[Object(b.jsxs)(c.a.Provider,{onFormFinish:function(a,e){var t=e.values;e.forms;"formIdentify"===a&&"employeeVacation"===t.who?l(!1):l(!0)},children:[Object(b.jsx)(m,{}),Object(b.jsx)("span",{hidden:s,children:Object(b.jsx)(g,{})})]}),Object(b.jsxs)(c.a.Provider,{onFormFinish:function(a,e){var t=e.values,n=e.forms.formVacation,r=document.querySelector("span.ant-checkbox");if("Definido"===t.tableInfo.status)for(var d=0;d<t.tableInfo.part;d++)n.setFields([{name:"dateBeginVacation0"+(d+1),value:A()(t.tableInfo.children[d].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(d+1),value:t.tableInfo.children[d].day},{name:"dateEndVacation0"+(d+1),value:t.tableInfo.children[d].dateEnd}]);else"Aberto"===t.tableInfo.status&&(n.setFields([{name:"vacationDays",value:t.tableInfo.day},{name:"daysVacation01",value:t.tableInfo.day},{name:"periodEnd",value:t.tableInfo.perAqEnd}]),r.classList.remove("ant-checkbox-checked"));n.setFields([{name:"dateBeginVacation01",value:A()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"periodEnd",value:t.tableInfo.perAqEnd},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:A()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:A()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(b.jsx)(x,{}),Object(b.jsx)(F,{ena:t,set:i})]}),Object(b.jsx)(k,{})]})})}var Y=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(C,{})})};d.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(Y,{})}),document.getElementById("root"))},93:function(a,e,t){}},[[256,1,2]]]);
//# sourceMappingURL=main.40fe30fd.chunk.js.map