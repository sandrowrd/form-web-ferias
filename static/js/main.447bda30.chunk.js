(this["webpackJsonpform-web-ferias"]=this["webpackJsonpform-web-ferias"]||[]).push([[0],{185:function(e,a,t){},261:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),o=t(45),r=t.n(o),c=(t(185),t(79)),s=t(25),d=t(7),l=t(266),u=t(262),b=t(263),j=t(172),m=t(138),h=(t(96),t(16)),f=t(19),v=function(){function e(){Object(h.a)(this,e),this.typeReq=2,this.url="localhost:8080",this.server="http://localhost:8080/",this.module="rubi",this.service="",this.port="",this.dataSource="",this.debug=!1,this.consult=""}return Object(f.a)(e,[{key:"setTypeReq",value:function(e){this.typeReq=e}},{key:"setUrl",value:function(e){this.url=e}},{key:"setServer",value:function(e){this.server=e}},{key:"setModule",value:function(e){this.module=e}},{key:"setService",value:function(e){this.service=e}},{key:"setPort",value:function(e){this.port=e}},{key:"setDataSource",value:function(e){this.dataSource=e}},{key:"setDebug",value:function(e){this.debug=e}},{key:"setConsult",value:function(e){this.consult=e}},{key:"createUrlRest",value:function(){return 1===this.typeReq?"http://"+this.url+"/SXI/GenericConsult?consult="+this.consult:2===this.typeReq&&this.dataSource&&!0===this.debug?"http://"+this.url+"/SXI/G5Rest?server="+this.server+"&module="+this.module+"&service="+this.service+"&port="+this.port+"&DATASOURCEATTRNAME="+this.dataSource+"&DEBUG=true":2===this.typeReq&&this.dataSource?"http://"+this.url+"/SXI/G5Rest?server="+this.server+"&module="+this.module+"&service="+this.service+"&port="+this.port+"&DATASOURCEATTRNAME="+this.dataSource:"http://"+this.url+"/SXI/G5Rest?server="+this.server+"&module="+this.module+"&service="+this.service+"&port="+this.port}}]),e}();var y=t(117),O=t(166),p=function e(){Object(h.a)(this,e),this.id="",this.username="",this.subject="",this.email="",this.fullname="",this.locale="",this.tenantName="",this.tenantLocale="",this.token=""},g=function(){function e(){var a=this;Object(h.a)(this,e),this.workflow=void 0,this.errorFunction=void 0,this.submitFunction=void 0,this.workflow=Object(O.workflowCockpit)({init:function(e,t){a.workflow=t},onSubmit:function(e,t){return a.workflow=t,a.submitFunction?a.submitFunction(e,t):{}},onError:function(e,t){a.workflow=t,a.errorFunction&&a.errorFunction(e,t)}})}return Object(f.a)(e,[{key:"onError",value:function(e){this.errorFunction=e}},{key:"onSubmit",value:function(e){this.submitFunction=e}},{key:"abortSubmit",value:function(){throw new Error("A\xe7\xe3o cancelada.")}},{key:"requestPlatformDataAndVariables",value:function(){return Promise.all([this.requestPlatformData(),this.requestProcessVariables()]).then((function(e){return e.reduce((function(e,a){return Object.assign(e,a)}),{})}))}},{key:"requestPlatformData",value:function(){return this.workflow.getPlatformData().then((function(a){return a||e.EMPTY_PLATFORM_DATA}))}},{key:"requestUserData",value:function(){return this.workflow.getUserData().then((function(e){if(e){var a=Object.assign(new p,e);return a.username.indexOf("@")>=0&&(a.username=a.username.split("@")[0]),a}return new p}))}},{key:"requestProcessVariables",value:function(){var e=this;return this.workflow.getInfoFromProcessVariables().then((function(a){return a?e.parsePendencyData(a):{}}))}},{key:"getToken",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=sessionStorage.getItem("senior-token");return e?"Bearer ".concat(a):a}},{key:"getUser",value:function(){return JSON.parse(sessionStorage.getItem("userData"))}},{key:"parsePendencyData",value:function(e){var a,t={},n=Object(y.a)(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;"Integer"===i.type||"Double"===i.type||"Float"===i.type?t[i.key]=parseFloat(i.value):t[i.key]=i.value}}catch(o){n.e(o)}finally{n.f()}return t}}]),e}();g.EMPTY_PLATFORM_DATA={odataUrl:"",serviceUrl:"",token:void 0};var V=t(4),x=(new g).requestUserData();function I(e){var a=Object(n.useState)([{name:"fullname",value:""},{name:"registry",value:""},{name:"subsidiary",value:""},{name:"office",value:""},{name:"boss",value:""},{name:"who",value:""}]),t=Object(d.a)(a,2),i=t[0],o=(t[1],l.a.useForm()),r=Object(d.a)(o,1)[0];x.then((function(e){e.fullname;console.log(e);var a=function(e,a,t,n){var i=new v;i.setService(a),i.setPort(t),i.setTypeReq(2);var o=new XMLHttpRequest,r=n;return o.open(e,i.createUrlRest(),!1),o.setRequestHeader("Authorization","Basic "+window.btoa("senior:senior")),o.setRequestHeader("Accept","application/json;charset=utf-8"),o.setRequestHeader("user","senior"),o.send(JSON.stringify(r)),JSON.parse(o.responseText)}("POST","br.com.cvc.wf.geral","GetDadosSolicitante",{nome:e.fullname,email:e.email});console.log(a),console.log(a.cargo),r.setFieldsValue({fullname:a.nome,registry:a.numcad,subsidiary:a.filial,office:a.cargo,boss:a.supime})}));return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{children:"Identifica\xe7\xe3o do Solicitante"}),Object(V.jsxs)(l.a,{name:"formIdentify",labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:i,form:r,onFieldsChange:function(e,a){},children:[Object(V.jsxs)(u.a,{gutter:50,children:[Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:"fullname",label:"Nome Solicitante",children:Object(V.jsx)(j.a,{})})}),Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:"registry",label:"Matr\xedcula",children:Object(V.jsx)(j.a,{readOnly:!0})})})]}),Object(V.jsxs)(u.a,{gutter:50,children:[Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:"office",label:"Cargo Solicitante",children:Object(V.jsx)(j.a,{readOnly:!0})})}),Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:"subsidiary",label:"Filial",children:Object(V.jsx)(j.a,{readOnly:!0})})})]}),Object(V.jsxs)(u.a,{gutter:50,children:[Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:"boss",label:"Superior Imediato",children:Object(V.jsx)(j.a,{readOnly:!0})})}),Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)("span",{hidden:e.own,children:Object(V.jsx)(l.a.Item,{name:"who",label:"Solicita\xe7\xe3o de F\xe9rias",labelAlign:"left",children:Object(V.jsxs)(m.a.Group,{defaultValue:"ownVacation",buttonStyle:"solid",onChange:function(e){r.setFieldsValue({who:e.target.value}),r.submit()},children:[Object(V.jsx)(m.a.Button,{value:"ownVacation",children:"Pr\xf3pria"}),Object(V.jsx)(m.a.Button,{value:"employeeVacation",style:{marginLeft:"20px"},children:"Colaborador"})]})})})})]})]})]})})}var D=t(108),w=t(89);function E(){var e=Object(n.useState)([{name:["registryEmployee"],value:""},{name:["positionemployee"],value:""},{name:["subsidiaryEmployee"],value:""},{name:["bossEmployee"],value:""},{name:["custCenter"],value:""}]),a=Object(d.a)(e,2),t=a[0],i=a[1],o=D.a.Option;return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{children:"Informa\xe7\xf5es do Colaborador"}),Object(V.jsxs)(l.a,{name:"formEmployee",labelCol:{span:10},wrapperCol:{span:12},labelAlign:"left",fields:t,onFieldsChange:function(e,a){i(a)},children:[Object(V.jsxs)(u.a,{gutter:20,children:[Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:["nameEmployee"],label:"Colaborador",rules:[{required:!0},{message:"Obrigat\xf3rio selecionar o colaborador."}],children:Object(V.jsx)(w.a,{title:"Selecione o nome do colaborador",children:Object(V.jsxs)(D.a,{allowClear:!0,showSearch:!0,placeholder:"Selecione Colaborador",optionFilterProp:"children",filterOption:function(e,a){return(null===a||void 0===a?void 0:a.children.toLowerCase().indexOf(e.toLocaleLowerCase()))>=0},children:[Object(V.jsx)(o,{value:"Adriana Concei\xe7\xe3o",children:"Adriana Concei\xe7\xe3o"}),Object(V.jsx)(o,{value:"Roberto Mattos",children:"Roberto Mattos"}),Object(V.jsx)(o,{value:"Maria Eduarda Freitas",children:"Maria Eduarda Freitas"}),Object(V.jsx)(o,{value:"Tadeu Carvalho",children:"Tadeu Carvalho"})]})})})}),Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:["registryEmployee"],label:"Matr\xedcula",children:Object(V.jsx)(j.a,{readOnly:!0})})})]}),Object(V.jsxs)(u.a,{gutter:20,children:[Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:["positionemployee"],label:"Cargo Colaborador",children:Object(V.jsx)(j.a,{readOnly:!0})})}),Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:["subsidiaryEmployee"],label:"Filial",children:Object(V.jsx)(j.a,{readOnly:!0})})})]}),Object(V.jsxs)(u.a,{gutter:20,children:[Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{name:["bossEmployee"],label:"Superior Imediato",children:Object(V.jsx)(j.a,{readOnly:!0})})}),Object(V.jsx)(b.a,{span:12,children:Object(V.jsx)(l.a.Item,{})})]})]})]})})}var F=t(1),P=t(264),k=t(269);function S(){var e=Object(n.useState)([{name:"who",value:""},{name:"tableInfo",value:{}}]),a=Object(d.a)(e,2),t=(a[0],a[1]),i=Object(n.useState)({hasData:!0,rowSelection:void 0}),o=Object(d.a)(i,2),r=o[0],c=(o[1],function(e){var a=e,t=a.substring(6,10)+","+a.substring(3,5)+","+a.substring(0,2);return new Date(t)}),s=[{title:"Situa\xe7\xe3o",dataIndex:"status",key:"key"},{title:"Per\xedodo Aquisitivo Inicial",dataIndex:"perAqIn",key:"key"},{title:"Per\xedodo Aquisitivo Final",dataIndex:"perAqEnd",key:"key"},{title:"Data Inicio",dataIndex:"dateIn",key:"key"},{title:"Data Fim",dataIndex:"dateEnd",key:"key"},{title:"Dias",dataIndex:"day",key:"key"},{title:"13\xb0 Sal\xe1rio",dataIndex:"salary13",key:"key"},{title:"Abono",dataIndex:"allowence",key:"key"},{title:"Parcelas",dataIndex:"part",key:"key"},{title:"A\xe7\xe3o",key:"action",render:function(e){var a=new Date(Date.now()),t=c(e.perAqIn),n=c(e.perAqEnd);if(a>t&&a<n){if(e.part>1){var i=c(e.children[0].dateIn);return i.setDate(i.getDate()-60),a<i?Object(V.jsx)("a",{children:Object(V.jsx)(k.a,{})}):Object(V.jsx)("a",{})}if(1===e.part){var o=c(e.dateIn);return o.setDate(o.getDate()-60),a<o?Object(V.jsx)("a",{children:Object(V.jsx)(k.a,{})}):void 0}return Object(V.jsx)("a",{children:Object(V.jsx)(k.a,{})})}}}],u=l.a.useForm(),b=Object(d.a)(u,1)[0];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{children:"Informa\xe7\xf5es de F\xe9rias"}),Object(V.jsxs)(l.a,{name:"formInfoVacation",labelAlign:"left",form:b,onFieldsChange:function(e,a){t(a)},children:[Object(V.jsx)(l.a.Item,{name:"tableInfo"}),Object(V.jsx)(P.a,Object(F.a)(Object(F.a)({},r),{},{pagination:!1,dataSource:[{key:1,status:"Definido",perAqIn:"01/04/2022",perAqEnd:"30/04/2022",dateIn:"",dateEnd:"",day:"30",salary13:"",allowence:"",part:"3",children:[{key:11,part:"1",dateIn:"04/07/2022",dateEnd:"19/07/2022",salary13:"Sim",allowence:"",day:"15"},{key:12,part:"2",dateIn:"01/08/2022",dateEnd:"11/08/2022",day:"10"},{key:13,part:"3",dateIn:"06/09/2022",dateEnd:"11/09/2022",salary13:"",allowence:"Sim",day:"5"}]},{key:1,status:"Aberto",perAqIn:"01/04/2022",perAqEnd:"30/04/2022",dateIn:"",dateEnd:"",day:"30",salary13:"",allowence:"",part:""}],columns:s,onRow:function(e,a){return{onClick:function(a){return function(e,a){b.setFieldsValue({tableInfo:e}),b.submit()}(e)}}}}))]})]})})}var Y=t(174),A=t(95),B=t(265),M=t(267),q=t(268),C=t(270);function R(e){var a=Object(n.useState)([{name:"periodEnd",value:""},{name:"unexcused",value:""},{name:"vacationDays",value:""},{name:"dateBeginVacation01",value:""},{name:"daysVacation01",value:""},{name:"dateEndVacation01",value:""},{name:"datePgto01",value:""},{name:"dateBeginVacation02",value:""},{name:"daysVacation02",value:""},{name:"dateEndVacation02",value:""},{name:"datePgto02",value:""},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:""},{name:"dateEndVacation03",value:""},{name:"datePgto03",value:""},{name:"abonoPec",value:""},{name:"dtsal",value:""}]),t=Object(d.a)(a,2),i=t[0],o=t[1],r=Object(n.useState)({enaRow01:!0,enaRow02:!0}),c=Object(d.a)(r,2),s=c[0],h=c[1],f=Object(n.useState)(!1),v=Object(d.a)(f,2),y=v[0],O=v[1],p=l.a.useForm(),g=Object(d.a)(p,1)[0],x=g.getFieldValue("vacationDays"),I="Informar a data de in\xedcio das f\xe9rias. Somente ser\xe1 permitido data de inicio ap\xf3s 60 dias da data de requisi\xe7\xe3o. ",D="Se parcelado, o n\xfamero de dias n\xe3o poder\xe1 ser menor que 5 e uma das parcelas deve ser de 14 dias",E=function(e){Y.a.open({message:"Aten\xe7\xe3o Erro no preenchimento",description:e,icon:Object(V.jsx)(C.a,{style:{color:"#FF0000"}}),style:{background:"#bfcff7"},duration:5})},F=function(e,a){var t=new Date(e);return t.setDate(t.getDate()+a),t.toLocaleDateString("en-GB")},P=function(e){var a=new Date(e).getDay(),t=new Date(e),n=1===a?5:2===a?6:3===a?7:4===a?8:5===a?2:6===a?3:0;return t.setDate(t.getDate()-n),t.toLocaleDateString("en-GB")},k=function(e,a,t){var n=g.getFieldValue(e),i=Date.parse(n._d),o=new Date(i),r=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(t.getFullYear(),t.getMonth(),t.getDate()),s=g.getFieldValue(a);if(r.setDate(r.getDate()+parseInt(s)),c<=r){if(c.getMonth()===r.getMonth()&&c.getDate()<r.getDate()){E("Data n\xe3o pode ser inferior ou igual a data da primeira parcela. ")}else if(c.getMonth()<r.getMonth()){E("M\xeas n\xe3o pode ser inferior ao m\xeas da primeira parcela. Favor corrigir.")}return!1}return!0};function S(e,a){if(""===e)return!1;var t=e._d.getDay();if(0===t){E("Dia de inicio da f\xe9rias cai no domingo. Data n\xe3o permitida. Favor corrigir")}else if(6===t){E("Dia de inicio da f\xe9rias cai no s\xe1bado. Data n\xe3o permitida. Favor corrigir")}if(e){var n=new Date(e._d),i=new Date,o=Math.abs(n.getTime()-i.getTime());if(Math.ceil(o/864e5)<60){return E("N\xe3o \xe9 permitido escolher data abaixo de 60 dias ap\xf3s a data de requisi\xe7\xe3o. Por favor verifique o preenchimento"),!1}return"dateBeginVacation02"===a?k("dateBeginVacation01","daysVacation01",n):"dateBeginVacation03"!==a||k("dateBeginVacation02","daysVacation02",n)}}var R=function(a,t){var n=0,i=g.getFieldValue("daysVacation01"),o=g.getFieldValue("daysVacation02");if(e.set({show01:!0,show02:!0}),"daysVacation01"===t){if(n=x-a,(a>=14||n>=14)&&a<=x-5&&a>=5)return h({enaRow01:!1,enaRow02:!0}),n;(o<5||void 0===o||n<5)&&h({enaRow01:!0,enaRow02:!0})}else"daysVacation02"===t?(n=x-i-a)<5?h({enaRow01:!1,enaRow02:!0}):(a>=14||14===n||a>=5&&a<=x-i-5)&&h({enaRow01:!1,enaRow02:!1}):h({enaRow01:!0,enaRow02:!0});return n};return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{children:"Sele\xe7\xe3o de F\xe9rias"}),Object(V.jsxs)(l.a,{name:"formVacation",labelAlign:"left",fields:i,form:g,onFieldsChange:function(e,a){o(a)},children:[Object(V.jsxs)(b.a,{span:20,children:[Object(V.jsxs)(u.a,{justify:"space-around",children:[Object(V.jsx)(l.a.Item,{label:"Fim do Per\xedodo Aquisitivo",name:"periodEnd",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(V.jsx)(l.a.Item,{name:"unexcused",label:"Faltas n\xe3o justificadas",rules:[function(e){var a=e.setFieldsValue;return{validator:function(e,t){a(t<=5?{vacationDays:30,daysVacation01:30}:t>5&&t<=14?{vacationDays:24,daysVacation01:24}:t>14&&t<=23?{vacationDays:18,daysVacation01:18}:t>23&&t<=32?{vacationDays:12,daysVacation01:12}:{vacationDays:0,daysVacation01:0})}}}],children:Object(V.jsx)(j.a,{style:{width:"60px"}})}),Object(V.jsx)(l.a.Item,{name:"vacationDays",label:"Dias Aquisitivos de F\xe9rias",labelAlign:"right",children:Object(V.jsx)(j.a,{style:{width:"60px"},readOnly:!0})})]}),Object(V.jsx)(u.a,{children:Object(V.jsx)(l.a.Item,{name:"abonoPec",rules:[function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){if(y){var i=a("vacationDays")/3*2;t({vacationDays:i,daysVacation01:i})}else{var o=a("vacationDays")/2*3;t({vacationDays:o,daysVacation01:o})}}}}],children:Object(V.jsx)(A.a,{onChange:function(e){O(e.target.checked)},value:"checked",children:"Abono"})})})]}),Object(V.jsxs)(u.a,{children:[Object(V.jsxs)(b.a,{span:20,children:[Object(V.jsxs)(u.a,{justify:"space-around",children:[Object(V.jsx)(w.a,{placement:"top",title:I,children:Object(V.jsx)(l.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation01",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){var i=S(n,"dateBeginVacation01"),o="",r=P(n._d);if(i){var c=a("daysVacation01");return c&&(o=F(Date.parse(n._d),c)),t({dateEndVacation01:o,datePgto01:r}),Promise.resolve(t({dateEndVacation01:o,datePgto01:r}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(V.jsx)(B.a,{style:{width:"120px"},allowClear:!0,format:"DD/MM/YYYY"})})}),Object(V.jsx)(w.a,{placement:"top",title:D,children:Object(V.jsx)(l.a.Item,{label:"Qto Dias",name:"daysVacation01",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue,n=e.setFields;return{validator:function(e,i){var o=a("dateBeginVacation01"),r=S(o,"dateBeginVacation01"),c=a("vacationDays"),s=P(o._d);if(0===o.length)return n([{name:"daysVacation01",value:c}]),Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(c<19){return E("Numero de dias de f\xe9rias insuficientes para parcelar f\xe9rias. Valor ser\xe1 em cota \xfanica "),t({daysVacation01:c}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!r)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(i<c&&i>c-2){var d=F(Date.parse(o._d),c-5),l=R(c-5,"daysVacation01");t({daysVacation01:c-5,dateEndVacation01:d,datePgto01:s,daysVacation02:l,dateEndVacation02:"",dateBeginVacation02:"",datePgto02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""})}else{if(a("daysVacation02")<6&&a("daysVacation01")>=a("vacationDays")-10&&5===a("daysVacation03"))return console.log("Erro: Se P2 e P3 igual 5 n\xe3o permite que P1 aceite incrementar at\xe9 30 "),Promise.reject(new Error("M\xe1ximo valor permitido"));if(a("daysVacation02")<=5&&a("daysVacation01")>c-6){var u=F(Date.parse(o._d),c);t({daysVacation01:c,dateEndVacation01:u,datePgto01:s,daysVacation02:"",dateEndVacation02:"",dateBeginVacation02:"",datePgto02:""}),R(i,"daysVacation01")}else{var b=F(Date.parse(o._d),i);if(""===a("dateBeginVacation02")&&""===a("daysVacation02")){var j=R(i,"daysVacation01");t({dateEndVacation01:b,datePgto01:s,daysVacation02:j,dateEndVacation02:"",dateBeginVacation02:"",datePgto02:"",daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""})}else if(""!==a("daysVacation02")){var m=a("dateBeginVacation02"),h=P(m._d),f=c-a("daysVacation01")-a("daysVacation03");if(""!==m){var v=F(Date.parse(m._d),i);if(""!==a("daysVacation03")){var y=a("daysVacation03"),O=""!==a("dateBeginVacation03")?a("dateBeginVacation03"):"",p=P(O._d);if(""!==O){var g=F(Date.parse(O._d),y);t({dateEndVacation01:b,datePgto01:s,daysVacation02:f,dateEndVacation02:v,dateBeginVacation02:m,datePgto02:h,daysVacation03:y,dateEndVacation03:g,dateBeginVacation03:O,datePgto03:p})}else t({dateEndVacation01:b,datePgto01:s,daysVacation02:f,dateEndVacation02:v,dateBeginVacation02:m,datePgto02:h,daysVacation03:y,dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""}),R(f,"daysVacation02")}else""===a("daysVacation03")&&t({dateEndVacation01:b,datePgto01:s,daysVacation02:f,dateEndVacation02:v,dateBeginVacation02:m,datePgto02:h,daysVacation03:"",dateEndVacation03:"",dateBeginVacation03:"",datePgto03:""})}else{var V=R(i,"daysVacation01");t({dateEndVacation01:b,datePgto01:s,daysVacation02:V,dateEndVacation02:"",datePgto02:"",dateBeginVacation02:"",daysVacation03:"",dateEndVacation03:"",datePgto03:"",dateBeginVacation03:""})}return Promise.resolve()}}}}}}],children:Object(V.jsx)(M.a,{min:5,max:g.getFieldValue("daysVacation02")<6&&5===g.getFieldValue("daysVacation03")?g.getFieldValue("vacationDays")-g.getFieldValue("daysVacation02")-g.getFieldValue("daysVacation03"):g.getFieldValue("vacationDays"),style:{width:"60px"}})})}),Object(V.jsx)(l.a.Item,{label:"Data Fim",name:"dateEndVacation01",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(V.jsx)(l.a.Item,{label:"Data Pgto",name:"datePgto01",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})})]}),Object(V.jsx)("div",{hidden:!(!s.enaRow01||!e.ena.show01),children:Object(V.jsxs)(u.a,{justify:"space-around",children:[Object(V.jsx)(w.a,{placement:"top",title:I,children:Object(V.jsx)(l.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation02",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){var i=S(n,"dateBeginVacation02"),o="",r=P(n._d);if(a("daysVacation01")<14&&a("daysVacation02")<14&&a("daysVacation03")<14){return E("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var c=a("daysVacation02");return c&&(o=F(Date.parse(n._d),c)),t({dateEndVacation02:o,datePgto02:r}),Promise.resolve(t({dateEndVacation02:o,datePgto02:r}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(V.jsx)(B.a,{style:{width:"120px"},allowClear:!0,format:"DD/MM/YYYY"})})}),Object(V.jsx)(w.a,{placement:"top",title:D,children:Object(V.jsx)(l.a.Item,{label:"Qto Dias",name:"daysVacation02",rules:[{required:!0,message:"Favor informar o n\xfamero de dias de f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue,n=e.setFields;return{validator:function(e,i){var o=a("dateBeginVacation02"),r=S(o,"dateBeginVacation02"),c=a("vacationDays"),s=P(o._d);if(c<25){return E("Numero de dias de f\xe9rias insuficientes para parcelar as f\xe9rias em 3 vezes. "),t({daysVacation02:c-a("daysVacation01")}),Promise.reject(new Error("N\xe3o \xe9 permitido parcelar"))}if(!o._d)return Promise.reject(new Error("Favor primeiro selecionar a data de inicio das f\xe9rias corretamente."));if(!r)return Promise.reject(new Error("Data est\xe1 invalida. Favor corrigir"));if(i<=c-a("daysVacation01")&&i>=c-a("daysVacation01")-2){var d=F(Date.parse(o._d),i-4);n([{name:"daysVacation02",value:i-4},{name:"dateEndVacation02",value:d},{name:"dateBeginVacation03",value:""},{name:"daysVacation03",value:5},{name:"dateEndVacation03",value:""}]),R(i-4,"daysVacation02")}else{if(!(a("daysVacation03")<6&&a("daysVacation02")>c-a("daysVacation01")-5)){if(a("daysVacation02")<6&&a("daysVacation03")<6)return Promise.reject();var l=R(i,"daysVacation02"),u=F(Date.parse(o._d),i);if(""===a("dateBeginVacation03"))t({dateEndVacation02:u,datePgto02:s,daysVacation03:l,dateEndVacation03:"",dateBeguinVacation03:"",datePgto03:""});else{var b=F(Date.parse(a("dateBeginVacation03")._d),l),j=P(a("dateBeginVacation03")._d);t({dateEndVacation02:u,datePgto02:s,daysVacation03:l,dateEndVacation03:b,datePgto03:j})}return Promise.resolve()}var m=a("vacationDays")-a("daysVacation01"),h=F(Date.parse(o._d),m);t({daysVacation02:m,dateEndVacation02:h,datePgto02:s,daysVacation03:"",dateEndVacation03:"",dateBeguinVacation03:"",datePgto03:""}),R(m,"daysVacation02")}}}}],children:Object(V.jsx)(M.a,{min:5,max:g.getFieldValue("vacationDays")-g.getFieldValue("daysVacation01"),style:{width:"60px"}})})}),Object(V.jsx)(l.a.Item,{label:"Data Fim",name:"dateEndVacation02",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(V.jsx)(l.a.Item,{label:"Data Pgto",name:"datePgto02",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})})]})}),Object(V.jsx)("div",{hidden:!(!s.enaRow02||!e.ena.show02),children:Object(V.jsxs)(u.a,{justify:"space-around",children:[Object(V.jsx)(w.a,{placement:"top",title:I,children:Object(V.jsx)(l.a.Item,{label:"Data In\xedcio",name:"dateBeginVacation03",rules:[{required:!0,message:"Obrigat\xf3rio informar a data de inicio das f\xe9rias."},function(e){var a=e.getFieldValue,t=e.setFieldsValue;return{validator:function(e,n){var i=S(n,"dateBeginVacation03"),o="",r=P(n._d);if(a("daysVacation01")<14&&a("daysVacation02")<14&&a("daysVacation03")<14){return E("Uma das parcela tem que maior ou igual a 14 dias. Favor corrigir "),Promise.reject(new Error("Parcelas n\xe3o permitidas"))}if(i){var c=a("daysVacation03");return c&&(o=F(Date.parse(n._d),c)),t({dateEndVacation03:o,datePgto03:r}),Promise.resolve(t({dateEndVacation03:o,datePgto03:r}))}return Promise.reject(new Error("Data negada. Favor digitar uma data correta"))}}}],children:Object(V.jsx)(B.a,{style:{width:"120px"},allowClear:!0,format:"DD/MM/YYYY"})})}),Object(V.jsx)(l.a.Item,{label:"Qto Dias",name:"daysVacation03",children:Object(V.jsx)(M.a,{style:{width:"60px"},readOnly:!0})}),Object(V.jsx)(l.a.Item,{label:"Data Fim",name:"dateEndVacation03",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})}),Object(V.jsx)(l.a.Item,{label:"Data Pgto",name:"datePgto03",children:Object(V.jsx)(j.a,{style:{width:"120px"},readOnly:!0})})]})})]}),Object(V.jsx)(b.a,{span:4,children:Object(V.jsx)(u.a,{children:Object(V.jsx)(l.a.Item,{name:"dtsal",style:{marginTop:"-55px"},children:Object(V.jsx)(m.a.Group,{children:Object(V.jsxs)(q.b,{direction:"vertical",size:35,style:{display:"flex",marginTop:"-55px"},children:[Object(V.jsx)(m.a,{value:0,checked:!0,children:"N\xe3o"}),Object(V.jsx)(m.a,{value:1,children:"13 Sal"}),Object(V.jsx)("span",{hidden:!(!s.enaRow01||!e.ena.show01),children:Object(V.jsx)(m.a,{value:2,children:"13 Sal"})}),Object(V.jsx)("span",{hidden:!(!s.enaRow02||!e.ena.show02),children:Object(V.jsx)(m.a,{value:3,children:"13 Sal"})})]})})})})})]})]})]})})}var T=t(9),_=t(61);var L=function(){var e=Object(n.useState)([{name:"approver",value:""}]),a=Object(d.a)(e,2),t=a[0],i=(a[1],Object(n.useState)([{key:"",usu:"",dateTime:"",role:"",description:""}])),o=Object(d.a)(i,2),r=o[0],c=o[1],s=Object(n.useState)(0),m=Object(d.a)(s,2),h=m[0],f=m[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("fieldset",{children:[Object(V.jsx)("legend",{children:"Observa\xe7\xf5es"}),Object(V.jsxs)(l.a,{fields:t,onFieldsChange:function(e,a){},onFinish:function(e){var a=new Date,t={key:h.toString(),usu:e.approver,dateTime:a.toLocaleString("en-GB",{timeZone:"UTC"}),role:"",description:e.descriptionApp};f((function(e){return e+1})),c((function(e){return[t].concat(Object(T.a)(e))}))},children:[Object(V.jsxs)(u.a,{gutter:20,children:[Object(V.jsx)(b.a,{span:20,children:Object(V.jsx)(l.a.Item,{name:"approver",label:"Aprovador",labelAlign:"left",labelCol:{span:4},wrapperCol:{span:10},children:Object(V.jsx)(j.a,{style:{marginLeft:"25px"}})})}),Object(V.jsx)(b.a,{span:4,children:Object(V.jsx)(l.a.Item,{labelAlign:"right",children:Object(V.jsx)(_.a,{block:!0,type:"primary",htmlType:"submit",children:"Gravar"})})})]}),Object(V.jsx)(w.a,{title:"Campo opcional para acrescentar observa\xe7\xf5es. Ap\xf3s digitar pressionar tecla 'Gravar'.",children:Object(V.jsx)(l.a.Item,{name:"descriptionApp",label:"Observa\xe7\xf5es",labelAlign:"left",labelCol:{span:4},children:Object(V.jsx)(j.a.TextArea,{showCount:!0,maxLength:150})})}),Object(V.jsx)(l.a.Item,{label:"Hist\xf3rico",labelAlign:"left",children:Object(V.jsx)(P.a,{dataSource:r,columns:[{title:"Nome",dataIndex:"usu",key:"key",width:"20%"},{title:"Cargo",dataIndex:"office",key:"key",width:"20%"},{title:"Data/Hora",dataIndex:"dateTime",key:"key",width:"20%"},{title:"Papel",dataIndex:"paper",key:"key",width:"20%"},{title:"Observa\xe7\xf5es",dataIndex:"description",key:"key",width:"20%"}]})})]})]})})},U=t(34),G=t.n(U);function N(){var e=Object(n.useState)({show01:!0,show02:!0}),a=Object(d.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(!0),r=Object(d.a)(o,2),c=r[0],s=r[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{children:[Object(V.jsxs)(l.a.Provider,{onFormFinish:function(e,a){var t=a.values;a.forms;"formIdentify"===e&&"employeeVacation"===t.who?s(!1):s(!0)},children:[Object(V.jsx)(I,{}),Object(V.jsx)("span",{hidden:c,children:Object(V.jsx)(E,{})})]}),Object(V.jsxs)(l.a.Provider,{onFormFinish:function(e,a){var t=a.values,n=a.forms;console.log(e),console.log(t),console.log(n);var o=n.formVacation,r=document.querySelector("span.ant-checkbox");if("Definido"===t.tableInfo.status)for(var c=0;c<t.tableInfo.part;c++)o.setFields([{name:"dateBeginVacation0"+(c+1),value:G()(t.tableInfo.children[c].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(c+1),value:t.tableInfo.children[c].day},{name:"dateEndVacation0"+(c+1),value:t.tableInfo.children[c].dateEnd}]);else"Aberto"===t.tableInfo.status&&(o.setFields([{name:"vacationDays",value:t.tableInfo.day},{name:"daysVacation01",value:t.tableInfo.day},{name:"periodEnd",value:t.tableInfo.perAqEnd}]),r.classList.remove("ant-checkbox-checked"));o.setFields([{name:"dateBeginVacation01",value:G()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"periodEnd",value:t.tableInfo.perAqEnd},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:G()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:G()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(V.jsx)(S,{}),Object(V.jsx)(R,{ena:t,set:i})]}),Object(V.jsx)(L,{})]})})}function H(){var e=Object(n.useState)({show01:!0,show02:!0}),a=Object(d.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(!1),r=Object(d.a)(o,2);r[0],r[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{children:[Object(V.jsx)(l.a.Provider,{children:Object(V.jsx)(I,{own:!0})}),Object(V.jsxs)(l.a.Provider,{onFormFinish:function(e,a){var t=a.values,n=a.forms.formVacation,o=document.querySelector("span.ant-checkbox");if("Definido"===t.tableInfo.status)for(var r=0;r<t.tableInfo.part;r++)n.setFields([{name:"dateBeginVacation0"+(r+1),value:G()(t.tableInfo.children[r].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(r+1),value:t.tableInfo.children[r].day},{name:"dateEndVacation0"+(r+1),value:t.tableInfo.children[r].dateEnd}]);else"Aberto"===t.tableInfo.status&&(n.setFields([{name:"vacationDays",value:t.tableInfo.day},{name:"daysVacation01",value:t.tableInfo.day},{name:"periodEnd",value:t.tableInfo.perAqEnd}]),o.classList.remove("ant-checkbox-checked"));n.setFields([{name:"dateBeginVacation01",value:G()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"periodEnd",value:t.tableInfo.perAqEnd},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:G()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:G()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(V.jsx)(S,{}),Object(V.jsx)(R,{ena:t,set:i})]})]})})}function J(){var e=Object(n.useState)({show01:!0,show02:!0}),a=Object(d.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(!0),r=Object(d.a)(o,2);r[0],r[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{children:[Object(V.jsx)(I,{own:!0}),Object(V.jsx)(E,{}),Object(V.jsxs)(l.a.Provider,{onFormFinish:function(e,a){var t=a.values,n=a.forms.formVacation,o=document.querySelector("span.ant-checkbox");if("Definido"===t.tableInfo.status)for(var r=0;r<t.tableInfo.part;r++)n.setFields([{name:"dateBeginVacation0"+(r+1),value:G()(t.tableInfo.children[r].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(r+1),value:t.tableInfo.children[r].day},{name:"dateEndVacation0"+(r+1),value:t.tableInfo.children[r].dateEnd}]);else"Aberto"===t.tableInfo.status&&(n.setFields([{name:"vacationDays",value:t.tableInfo.day},{name:"daysVacation01",value:t.tableInfo.day},{name:"periodEnd",value:t.tableInfo.perAqEnd}]),o.classList.remove("ant-checkbox-checked"));n.setFields([{name:"dateBeginVacation01",value:G()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"periodEnd",value:t.tableInfo.perAqEnd},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:G()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:G()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(V.jsx)(S,{}),Object(V.jsx)(R,{ena:t,set:i})]})]})})}function X(){var e=Object(n.useState)({show01:!0,show02:!0}),a=Object(d.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)(!0),r=Object(d.a)(o,2),c=r[0],s=r[1];return Object(V.jsx)(V.Fragment,{children:Object(V.jsxs)("div",{children:[Object(V.jsxs)(l.a.Provider,{onFormFinish:function(e,a){var t=a.values;a.forms;"formIdentify"===e&&"employeeVacation"===t.who?s(!1):s(!0)},children:[Object(V.jsx)(I,{own:!1}),Object(V.jsx)("span",{hidden:c,children:Object(V.jsx)(E,{})})]}),Object(V.jsxs)(l.a.Provider,{onFormFinish:function(e,a){var t=a.values,n=a.forms;console.log(e),console.log(t),console.log(n);var o=n.formVacation,r=document.querySelector("span.ant-checkbox");if("Definido"===t.tableInfo.status)for(var c=0;c<t.tableInfo.part;c++)o.setFields([{name:"dateBeginVacation0"+(c+1),value:G()(t.tableInfo.children[c].dateIn,"DD/MM/YYYY")},{name:"daysVacation0"+(c+1),value:t.tableInfo.children[c].day},{name:"dateEndVacation0"+(c+1),value:t.tableInfo.children[c].dateEnd}]);else"Aberto"===t.tableInfo.status&&(o.setFields([{name:"vacationDays",value:t.tableInfo.day},{name:"daysVacation01",value:t.tableInfo.day},{name:"periodEnd",value:t.tableInfo.perAqEnd}]),r.classList.remove("ant-checkbox-checked"));o.setFields([{name:"dateBeginVacation01",value:G()(t.tableInfo.children[0].dateIn,"DD/MM/YYYY")},{name:"periodEnd",value:t.tableInfo.perAqEnd},{name:"daysVacation01",value:t.tableInfo.children[0].day},{name:"dateEndVacation01",value:t.tableInfo.children[0].dateEnd},{name:"dateBeginVacation02",value:G()(t.tableInfo.children[1].dateIn,"DD/MM/YYYY")},{name:"daysVacation02",value:t.tableInfo.children[1].day},{name:"dateEndVacation02",value:t.tableInfo.children[1].dateEnd},{name:"dateBeginVacation03",value:G()(t.tableInfo.children[2].dateIn,"DD/MM/YYYY")},{name:"daysVacation03",value:t.tableInfo.children[2].day},{name:"dateEndVacation03",value:t.tableInfo.children[2].dateEnd},{name:"vacationDays",value:t.tableInfo.day}]),"2"===t.tableInfo.part?i({show01:!1,show02:!0}):"3"===t.tableInfo.part&&i({show01:!1,show02:!1})},children:[Object(V.jsx)(S,{}),Object(V.jsx)(R,{ena:t,set:i})]})]})})}function z(){return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsx)(c.b,{to:"/SolicitacaoGestor",children:"Solicita\xe7\xe3o Feita Pelo Gestor"}),Object(V.jsx)("br",{}),Object(V.jsx)(c.b,{to:"/SolicitacaoPropria",children:"Solicita\xe7\xe3o Pr\xf3pria"}),Object(V.jsx)("br",{}),Object(V.jsx)(c.b,{to:"/SolicitacaoColaborador",children:"Solicita\xe7\xe3o Feita para o Colaborador"}),Object(V.jsx)("br",{}),Object(V.jsx)(c.b,{to:"/FormCompleto",children:"Formul\xe1rio Completo"}),Object(V.jsx)("br",{})]})}var Q=function(){return Object(V.jsx)(c.a,{children:Object(V.jsxs)(s.c,{children:[Object(V.jsx)(s.a,{path:"/",element:Object(V.jsx)(z,{})}),Object(V.jsx)(s.a,{path:"/FormCompleto",element:Object(V.jsx)(N,{})}),Object(V.jsx)(s.a,{path:"/SolicitacaoPropria",element:Object(V.jsx)(H,{})}),Object(V.jsx)(s.a,{path:"/SolicitacaoGestor",element:Object(V.jsx)(X,{})}),Object(V.jsx)(s.a,{path:"/SolicitacaoColaborador",element:Object(V.jsx)(J,{})})]})})},Z=new g,K=Z.requestUserData();Z.requestPlatformData().then((function(e){return e.serviceUrl})),Z.requestProcessVariables(),Z.requestPlatformData().then((function(e){return e.token}));K.then((function(e){e.fullname}));var W=function(){return Object(V.jsx)("div",{className:"App",children:Object(V.jsx)(Q,{})})};r.a.render(Object(V.jsx)(i.a.StrictMode,{children:Object(V.jsx)(W,{})}),document.getElementById("root"))},96:function(e,a,t){}},[[261,1,2]]]);
//# sourceMappingURL=main.447bda30.chunk.js.map